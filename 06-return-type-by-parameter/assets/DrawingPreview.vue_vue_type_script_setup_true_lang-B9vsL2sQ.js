import{t as K,z as D,B as O,d as at,ax as ee,ay as ne,az as G,o as nt,b as lt,e as st,f as Lt,h as U,T as re,W as dt,aA as se,K as ie,y as oe,n as ae,E as Vt,v as le,ac as ue,l as Dt,c as ce,au as he,i as de,g as fe}from"./modules/vue-DQn11_Ts.js";import{V as pe,a as yt,Z as It,Q as At,z as Nt,A as jt,W as ve,$ as ge,_ as wt,v as vt,a0 as ft,a1 as zt,a2 as xe,O as me,a3 as ye,a4 as we,a5 as _e,a6 as be,a7 as Se,a8 as Pe,a9 as Ee}from"./index-CTEZBy9N.js";import{u as Me}from"./slidev/context-CFnWWkCL.js";import{c as H,g as Ce,a as $e}from"./modules/file-saver-igGfcqei.js";function ke(t){var e;return{info:K(((e=pe(t))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const pt={};function Rn(t){function e(n){return pt[n]??(pt[n]=ke(n))}return{info:D({get(){return e(O(t)).info.value},set(n){e(O(t)).info.value=n}}),update:async(n,i)=>{const u=e(i??O(t)),a=await u.update(n);return a&&(u.info.value=a),a}}}const Le=["id"],De=["id"],Ie=at({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1}},setup(t){const e=t,{isPrintMode:n}=yt(),i=K(null),u=ee(i),a=K(null),f=D(()=>e.width??u.width.value),s=D(()=>e.width?e.width/It.value:u.height.value),r=D(()=>At.value&&!n.value?+At.value:Math.min(f.value/Nt.value,s.value/jt.value)),l=D(()=>({height:`${jt.value}px`,width:`${Nt.value}px`,transform:`translate(-50%, -50%) scale(${r.value})`,"--slidev-slide-scale":r.value})),d=D(()=>e.width?{width:`${e.width}px`,height:`${e.width/It.value}px`}:{});return e.isMain&&ne(D(()=>`:root { --slidev-slide-scale: ${r.value}; }`)),G(ve,r),G(ge,a),(o,c)=>(nt(),lt("div",{id:t.isMain?"slide-container":void 0,ref_key:"container",ref:i,class:"slidev-slide-container",style:U(d.value)},[st("div",{id:t.isMain?"slide-content":void 0,ref_key:"slideElement",ref:a,class:"slidev-slide-content",style:U(l.value)},[Lt(o.$slots,"default",{},void 0,!0)],12,De),Lt(o.$slots,"controls",{},void 0,!0)],12,Le))}}),Xn=wt(Ie,[["__scopeId","data-v-5d5c2a53"]]);var Ae=Object.defineProperty,Tt=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Ft=(t,e,n)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gt=(t,e)=>{for(var n in e||(e={}))Ne.call(e,n)&&Ft(t,n,e[n]);if(Tt)for(var n of Tt(e))je.call(e,n)&&Ft(t,n,e[n]);return t},ze=()=>({emit(t,...e){for(let n=0,i=this.events[t]||[],u=i.length;n<u;n++)i[n](...e)},events:{},on(t,e){var n;return((n=this.events)[t]||(n[t]=[])).push(e),()=>{var i;this.events[t]=(i=this.events[t])==null?void 0:i.filter(u=>e!==u)}}});function Kt(t,e,n,i=u=>u){return t*i(.5-e*(.5-n))}function Te(t){return[-t[0],-t[1]]}function F(t,e){return[t[0]+e[0],t[1]+e[1]]}function z(t,e){return[t[0]-e[0],t[1]-e[1]]}function T(t,e){return[t[0]*e,t[1]*e]}function Fe(t,e){return[t[0]/e,t[1]/e]}function W(t){return[t[1],-t[0]]}function Ot(t,e){return t[0]*e[0]+t[1]*e[1]}function Ke(t,e){return t[0]===e[0]&&t[1]===e[1]}function Oe(t){return Math.hypot(t[0],t[1])}function Re(t){return t[0]*t[0]+t[1]*t[1]}function Rt(t,e){return Re(z(t,e))}function Ut(t){return Fe(t,Oe(t))}function Xe(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function tt(t,e,n){let i=Math.sin(n),u=Math.cos(n),a=t[0]-e[0],f=t[1]-e[1],s=a*u-f*i,r=a*i+f*u;return[s+e[0],r+e[1]]}function xt(t,e,n){return F(t,T(z(e,t),n))}function Xt(t,e,n){return F(t,T(e,n))}var{min:Z,PI:qe}=Math,qt=.275,et=qe+1e-4;function Be(t,e={}){let{size:n=16,smoothing:i=.5,thinning:u=.5,simulatePressure:a=!0,easing:f=_=>_,start:s={},end:r={},last:l=!1}=e,{cap:d=!0,easing:o=_=>_*(2-_)}=s,{cap:c=!0,easing:h=_=>--_*_*_+1}=r;if(t.length===0||n<=0)return[];let p=t[t.length-1].runningLength,m=s.taper===!1?0:s.taper===!0?Math.max(n,p):s.taper,y=r.taper===!1?0:r.taper===!0?Math.max(n,p):r.taper,b=Math.pow(n*i,2),w=[],g=[],v=t.slice(0,10).reduce((_,N)=>{let M=N.pressure;if(a){let C=Z(1,N.distance/n),ut=Z(1,1-C);M=Z(1,_+(ut-_)*(C*qt))}return(_+M)/2},t[0].pressure),x=Kt(n,u,t[t.length-1].pressure,f),P,S=t[0].vector,E=t[0].point,I=E,k=E,$=I,j=!1;for(let _=0;_<t.length;_++){let{pressure:N}=t[_],{point:M,vector:C,distance:ut,runningLength:J}=t[_];if(_<t.length-1&&p-J<3)continue;if(u){if(a){let B=Z(1,ut/n),ht=Z(1,1-B);N=Z(1,v+(ht-v)*(B*qt))}x=Kt(n,u,N,f)}else x=n/2;P===void 0&&(P=x);let Jt=J<m?o(J/m):1,Wt=p-J<y?h((p-J)/y):1;x=Math.max(.01,x*Math.min(Jt,Wt));let Ct=(_<t.length-1?t[_+1]:t[_]).vector,ct=_<t.length-1?Ot(C,Ct):1,te=Ot(C,S)<0&&!j,$t=ct!==null&&ct<0;if(te||$t){let B=T(W(S),x);for(let ht=1/13,rt=0;rt<=1;rt+=ht)k=tt(z(M,B),M,et*rt),w.push(k),$=tt(F(M,B),M,et*-rt),g.push($);E=k,I=$,$t&&(j=!0);continue}if(j=!1,_===t.length-1){let B=T(W(C),x);w.push(z(M,B)),g.push(F(M,B));continue}let kt=T(W(xt(Ct,C,ct)),x);k=z(M,kt),(_<=1||Rt(E,k)>b)&&(w.push(k),E=k),$=F(M,kt),(_<=1||Rt(I,$)>b)&&(g.push($),I=$),v=N,S=C}let L=t[0].point.slice(0,2),A=t.length>1?t[t.length-1].point.slice(0,2):F(t[0].point,[1,1]),q=[],R=[];if(t.length===1){if(!(m||y)||l){let _=Xt(L,Ut(W(z(L,A))),-(P||x)),N=[];for(let M=1/13,C=M;C<=1;C+=M)N.push(tt(_,L,et*2*C));return N}}else{if(!(m||y&&t.length===1))if(d)for(let N=1/13,M=N;M<=1;M+=N){let C=tt(g[0],L,et*M);q.push(C)}else{let N=z(w[0],g[0]),M=T(N,.5),C=T(N,.51);q.push(z(L,M),z(L,C),F(L,C),F(L,M))}let _=W(Te(t[t.length-1].vector));if(y||m&&t.length===1)R.push(A);else if(c){let N=Xt(A,_,x);for(let M=1/29,C=M;C<1;C+=M)R.push(tt(N,A,et*3*C))}else R.push(F(A,T(_,x)),F(A,T(_,x*.99)),z(A,T(_,x*.99)),z(A,T(_,x)))}return w.concat(R,g.reverse(),q)}function Ge(t,e={}){var n;let{streamline:i=.5,size:u=16,last:a=!1}=e;if(t.length===0)return[];let f=.15+(1-i)*.85,s=Array.isArray(t[0])?t:t.map(({x:h,y:p,pressure:m=.5})=>[h,p,m]);if(s.length===2){let h=s[1];s=s.slice(0,-1);for(let p=1;p<5;p++)s.push(xt(s[0],h,p/4))}s.length===1&&(s=[...s,[...F(s[0],[1,1]),...s[0].slice(2)]]);let r=[{point:[s[0][0],s[0][1]],pressure:s[0][2]>=0?s[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],l=!1,d=0,o=r[0],c=s.length-1;for(let h=1;h<s.length;h++){let p=a&&h===c?s[h].slice(0,2):xt(o.point,s[h],f);if(Ke(o.point,p))continue;let m=Xe(p,o.point);if(d+=m,h<c&&!l){if(d<u)continue;l=!0}o={point:p,pressure:s[h][2]>=0?s[h][2]:.5,vector:Ut(z(o.point,p)),distance:m,runningLength:d},r.push(o)}return r[0].vector=((n=r[1])==null?void 0:n.vector)||[0,0],r}function Ve(t,e={}){return Be(Ge(t,e),e)}function it(t,e){return t-e}function Ue(t){return t<0?-1:1}function ot(t){return[Math.abs(t),Ue(t)]}function Ht(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var He=2,X=He,Q=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var e,n,i;const u=this.drauu.el,a=(e=this.drauu.options.coordinateScale)!=null?e:1,f=(n=this.drauu.options.offset)!=null?n:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const s=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-s.left+f.x)*a,y:(t.pageY-s.top+f.y)*a,pressure:t.pressure}}else{const s=this.drauu.svgPoint;s.x=t.clientX+f.x,s.y=t.clientY+f.y;const r=s.matrixTransform((i=u.getScreenCTM())==null?void 0:i.inverse());return{x:r.x*a,y:r.y*a,pressure:t.pressure}}}createElement(t,e){var n;const i=document.createElementNS("http://www.w3.org/2000/svg",t),u=e?gt(gt({},this.brush),e):this.brush;return i.setAttribute("fill",(n=u.fill)!=null?n:"transparent"),i.setAttribute("stroke",u.color),i.setAttribute("stroke-width",u.size.toString()),i.setAttribute("stroke-linecap","round"),u.dasharray&&i.setAttribute("stroke-dasharray",u.dasharray),i}attr(t,e){this.el.setAttribute(t,typeof e=="string"?e:e.toFixed(X))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},Ye=class Yt extends Q{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){return Yt.getSvgData(e,this.brush)}static getSvgData(e,n){const i=Ve(e,gt({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!i.length)return"";const u=i.reduce((a,[f,s],r,l)=>{const[d,o]=l[(r+1)%l.length];return a.push(f,s,(f+d)/2,(s+o)/2),a},["M",...i[0],"Q"]);return u.push("Z"),u.map(a=>typeof a=="number"?a.toFixed(2):a).join(" ")}},Ze=class extends Q{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=ot(t.x-this.start.x),[i,u]=ot(t.y-this.start.y);if(this.shiftPressed){const a=Math.min(e,i);e=a,i=a}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",e),this.attr("ry",i);else{const[a,f]=[this.start.x,this.start.x+e*n].sort(it),[s,r]=[this.start.y,this.start.y+i*u].sort(it);this.attr("cx",(a+f)/2),this.attr("cy",(s+r)/2),this.attr("rx",(f-a)/2),this.attr("ry",(r-s)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Zt(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=document.createElementNS("http://www.w3.org/2000/svg","marker"),u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("fill",e),i.setAttribute("id",t),i.setAttribute("viewBox","0 -5 10 10"),i.setAttribute("refX","5"),i.setAttribute("refY","0"),i.setAttribute("markerWidth","4"),i.setAttribute("markerHeight","4"),i.setAttribute("orient","auto"),u.setAttribute("d","M0,-5L10,0L0,5"),i.appendChild(u),n.appendChild(i),n}var Qe=class extends Q{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const e=Ht(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(Zt(e,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${e})`),n}return this.el}onMove(t){if(!this.el)return!1;let{x:e,y:n}=t;if(this.shiftPressed){const i=t.x-this.start.x,u=t.y-this.start.y;if(u!==0){let a=i/u;a=Math.round(a),Math.abs(a)<=1?(e=this.start.x+u*a,n=this.start.y+u):(e=this.start.x+i,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-e),this.attr("y1",this.start.y*2-n),this.attr("x2",e),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",e),this.attr("y2",n)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},Je=class extends Q{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=ot(t.x-this.start.x),[i,u]=ot(t.y-this.start.y);if(this.shiftPressed){const a=Math.min(e,i);e=a,i=a}if(this.altPressed)this.attr("x",this.start.x-e),this.attr("y",this.start.y-i),this.attr("width",e*2),this.attr("height",i*2);else{const[a,f]=[this.start.x,this.start.x+e*n].sort(it),[s,r]=[this.start.y,this.start.y+i*u].sort(it);this.attr("x",a),this.attr("y",s),this.attr("width",f-a),this.attr("height",r-s)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function We(t,e){const n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function tn(t,e,n){let i=e.x,u=e.y,a=n.x-i,f=n.y-u;if(a!==0||f!==0){const s=((t.x-i)*a+(t.y-u)*f)/(a*a+f*f);s>1?(i=n.x,u=n.y):s>0&&(i+=a*s,u+=f*s)}return a=t.x-i,f=t.y-u,a*a+f*f}function en(t,e){let n=t[0];const i=[n];let u;for(let a=1,f=t.length;a<f;a++)u=t[a],We(u,n)>e&&(i.push(u),n=u);return n!==u&&u&&i.push(u),i}function mt(t,e,n,i,u){let a=i,f=0;for(let s=e+1;s<n;s++){const r=tn(t[s],t[e],t[n]);r>a&&(f=s,a=r)}a>i&&(f-e>1&&mt(t,e,f,i,u),u.push(t[f]),n-f>1&&mt(t,f,n,i,u))}function nn(t,e){const n=t.length-1,i=[t[0]];return mt(t,0,n,e,i),i.push(t[n]),i}function Bt(t,e,n=!1){if(t.length<=2)return t;const i=e*e;return t=n?t:en(t,i),t=nn(t,i),t}var rn=class V extends Q{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=Ht();const n=Zt(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=Bt(this.points,1,!0),this.count=0),this.attr("d",V.toSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",V.toSvgData(Bt(this.points,1,!0))),!e.getTotalLength()))}static line(e,n){const i=n.x-e.x,u=n.y-e.y;return{length:Math.sqrt(i**2+u**2),angle:Math.atan2(u,i)}}static controlPoint(e,n,i,u){const a=n||e,f=i||e,s=.2,r=V.line(a,f),l=r.angle+(u?Math.PI:0),d=r.length*s,o=e.x+Math.cos(l)*d,c=e.y+Math.sin(l)*d;return{x:o,y:c}}static bezierCommand(e,n,i){const u=V.controlPoint(i[n-1],i[n-2],e),a=V.controlPoint(e,i[n-1],i[n+1],!0);return`C ${u.x.toFixed(X)},${u.y.toFixed(X)} ${a.x.toFixed(X)},${a.y.toFixed(X)} ${e.x.toFixed(X)},${e.y.toFixed(X)}`}static toSvgData(e){return e.reduce((n,i,u,a)=>u===0?`M ${i.x.toFixed(X)},${i.y.toFixed(X)}`:`${n} ${V.bezierCommand(i,u,a)}`,"")}},sn=class extends Q{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(t){const e=(n,i)=>{if(n&&n.length)for(let u=0;u<n.length;u++){const a=n[u];if(a.getTotalLength){const f=a.getTotalLength();for(let s=0;s<this.pathSubFactor;s++){const r=a.getPointAtLength(f*s/this.pathSubFactor),l=a.getPointAtLength(f*(s+1)/this.pathSubFactor);this.pathFragments.push({x1:r.x,x2:l.x,y1:r.y,y2:l.y,segment:s,element:i||a})}}else a.children&&e(a.children,a)}};t&&e(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const e=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,e}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const t=this._erased;return this._erased=[],{undo:()=>t.forEach(e=>this.drauu._restoreNode(e)),redo:()=>t.forEach(e=>this.drauu._removeNode(e))}}checkAndEraseElement(){if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const e=this.pathFragments[t],n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(e,n)&&(this.drauu._removeNode(e.element),this._erased.push(e.element))}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(t=>!this._erased.includes(t.element))),this._erased.length>0}lineLineIntersect(t,e){const n=t.x1,i=t.x2,u=e.x1,a=e.x2,f=t.y1,s=t.y2,r=e.y1,l=e.y2,d=(n-i)*(r-l)-(f-s)*(u-a),o=(n*s-f*i)*(u-a)-(n-i)*(u*l-r*a),c=(n*s-f*i)*(r-l)-(f-s)*(u*l-r*a),h=(p,m,y)=>p>=m&&p<=y?!0:p>=y&&p<=m;if(d===0)return!1;{const p={x:o/d,y:c/d};return h(p.x,n,i)&&h(p.y,f,s)&&h(p.x,u,a)&&h(p.y,r,l)}}};function on(t){return{draw:new rn(t),stylus:new Ye(t),line:new Qe(t),rectangle:new Je(t),ellipse:new Ze(t),eraseLine:new sn(t)}}var an=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=ze(),this._originalPointerId=null,this._models=on(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget,t.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,e,n=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const i=this.resolveSelector(e)||this.el,u=this.eventStart.bind(this),a=this.eventMove.bind(this),f=this.eventEnd.bind(this),s=this.eventKeyboard.bind(this);i.addEventListener("pointerdown",u,{passive:!1}),n.addEventListener("pointermove",a,{passive:!1}),n.addEventListener("pointerup",f,{passive:!1}),n.addEventListener("pointercancel",f,{passive:!1}),n.addEventListener("keydown",s,!1),n.addEventListener("keyup",s,!1),this._disposables.push(()=>{i.removeEventListener("pointerdown",u),n.removeEventListener("pointermove",a),n.removeEventListener("pointerup",f),n.removeEventListener("pointercancel",f),n.removeEventListener("keydown",s,!1),n.removeEventListener("keyup",s,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,e){return this._emitter.on(t,e)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=t.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const e=this.model._eventUp(t);if(!e)this.cancel();else if(e===!0){const n=this._currentNode;this._appendNode(n),this.commit({undo:()=>this._removeNode(n),redo:()=>this._restoreNode(n)})}else this.commit(e);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(t){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==t.pointerId)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(t){this._opStack.length=this._opIndex,this._opStack.push(t),this._opIndex++;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._opStack.length=0,this._opIndex=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}_appendNode(t){const e=this._elements.at(-1);e?e.after(t):this.el.append(t);const n=this._elements.push(t)-1;t.dataset.drauu_index=n.toString()}_removeNode(t){t.remove(),this._elements[+t.dataset.drauu_index]=null}_restoreNode(t){const e=+t.dataset.drauu_index;this._elements[e]=t;for(let n=e-1;n>=0;n--){const i=this._elements[n];if(i){i.after(t);return}}this.el.prepend(t)}};function ln(t){return new an(t)}const un=re(()=>{const{currentSlideNo:t,isPresenter:e}=yt(),n=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],i=dt("slidev-drawing-enabled",!1),u=dt("slidev-drawing-pinned",!1),a=se(dt("slidev-drawing-brush",{color:n[0],size:4,mode:"stylus"})),f=K(!1),s=K(!1),r=K(!1),l=K(!1),d=K("stylus"),o=D(()=>vt.drawings.syncAll||e.value);let c=!1;const h=D({get(){return d.value},set(g){d.value=g,g==="arrow"?(m.mode="line",a.arrowEnd=!0):(m.mode=g,a.arrowEnd=!1)}}),p=ie({brush:a,acceptsInputTypes:D(()=>i.value&&(!vt.drawings.presenterOnly||e.value)?void 0:["pen"]),coordinateTransform:!1}),m=oe(ln(p));function y(){m.clear(),o.value&&zt(t.value,"")}function b(){var g;r.value=m.canRedo(),s.value=m.canUndo(),l.value=!!((g=m.el)!=null&&g.children.length)}function w(g){c=!0;const v=ft[g||t.value];v!=null?m.load(v):m.clear(),b(),c=!1}return m.on("changed",()=>{if(b(),!c){const g=m.dump(),v=t.value;(ft[v]||"")!==g&&o.value&&zt(v,m.dump())}}),xe(g=>{c=!0,g[t.value]!=null&&m.load(g[t.value]||""),c=!1,b()}),ae(()=>{Vt(t,()=>{m.mounted&&w()},{immediate:!0})}),m.on("start",()=>f.value=!0),m.on("end",()=>f.value=!1),window.addEventListener("keydown",g=>{if(!i.value||me.value)return;const v=!g.ctrlKey&&!g.altKey&&!g.shiftKey&&!g.metaKey;let x=!0;g.code==="KeyZ"&&(g.ctrlKey||g.metaKey)?g.shiftKey?m.redo():m.undo():g.code==="Escape"?i.value=!1:g.code==="KeyL"&&v?h.value="line":g.code==="KeyA"&&v?h.value="arrow":g.code==="KeyS"&&v?h.value="stylus":g.code==="KeyR"&&v?h.value="rectangle":g.code==="KeyE"&&v?h.value="ellipse":g.code==="KeyC"&&v?y():g.code.startsWith("Digit")&&v&&+g.code[5]<=n.length?a.color=n[+g.code[5]-1]:x=!1,x&&(g.preventDefault(),g.stopPropagation())},!1),{brush:a,brushColors:n,canClear:l,canRedo:r,canUndo:s,clear:y,drauu:m,drauuOptions:p,drawingEnabled:i,drawingMode:h,drawingPinned:u,drawingState:ft,isDrawing:f,loadCanvas:w}});var _t={exports:{}};_t.exports;(function(t){(function(e,n,i){function u(r){var l=this,d=s();l.next=function(){var o=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=o-(l.c=o|0)},l.c=1,l.s0=d(" "),l.s1=d(" "),l.s2=d(" "),l.s0-=d(r),l.s0<0&&(l.s0+=1),l.s1-=d(r),l.s1<0&&(l.s1+=1),l.s2-=d(r),l.s2<0&&(l.s2+=1),d=null}function a(r,l){return l.c=r.c,l.s0=r.s0,l.s1=r.s1,l.s2=r.s2,l}function f(r,l){var d=new u(r),o=l&&l.state,c=d.next;return c.int32=function(){return d.next()*4294967296|0},c.double=function(){return c()+(c()*2097152|0)*11102230246251565e-32},c.quick=c,o&&(typeof o=="object"&&a(o,d),c.state=function(){return a(d,{})}),c}function s(){var r=4022871197,l=function(d){d=String(d);for(var o=0;o<d.length;o++){r+=d.charCodeAt(o);var c=.02519603282416938*r;r=c>>>0,c-=r,c*=r,r=c>>>0,c-=r,r+=c*4294967296}return(r>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=f:this.alea=f})(H,t)})(_t);var cn=_t.exports,bt={exports:{}};bt.exports;(function(t){(function(e,n,i){function u(s){var r=this,l="";r.x=0,r.y=0,r.z=0,r.w=0,r.next=function(){var o=r.x^r.x<<11;return r.x=r.y,r.y=r.z,r.z=r.w,r.w^=r.w>>>19^o^o>>>8},s===(s|0)?r.x=s:l+=s;for(var d=0;d<l.length+64;d++)r.x^=l.charCodeAt(d)|0,r.next()}function a(s,r){return r.x=s.x,r.y=s.y,r.z=s.z,r.w=s.w,r}function f(s,r){var l=new u(s),d=r&&r.state,o=function(){return(l.next()>>>0)/4294967296};return o.double=function(){do var c=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(c+h)/(1<<21);while(p===0);return p},o.int32=l.next,o.quick=o,d&&(typeof d=="object"&&a(d,l),o.state=function(){return a(l,{})}),o}n&&n.exports?n.exports=f:this.xor128=f})(H,t)})(bt);var hn=bt.exports,St={exports:{}};St.exports;(function(t){(function(e,n,i){function u(s){var r=this,l="";r.next=function(){var o=r.x^r.x>>>2;return r.x=r.y,r.y=r.z,r.z=r.w,r.w=r.v,(r.d=r.d+362437|0)+(r.v=r.v^r.v<<4^(o^o<<1))|0},r.x=0,r.y=0,r.z=0,r.w=0,r.v=0,s===(s|0)?r.x=s:l+=s;for(var d=0;d<l.length+64;d++)r.x^=l.charCodeAt(d)|0,d==l.length&&(r.d=r.x<<10^r.x>>>4),r.next()}function a(s,r){return r.x=s.x,r.y=s.y,r.z=s.z,r.w=s.w,r.v=s.v,r.d=s.d,r}function f(s,r){var l=new u(s),d=r&&r.state,o=function(){return(l.next()>>>0)/4294967296};return o.double=function(){do var c=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(c+h)/(1<<21);while(p===0);return p},o.int32=l.next,o.quick=o,d&&(typeof d=="object"&&a(d,l),o.state=function(){return a(l,{})}),o}n&&n.exports?n.exports=f:this.xorwow=f})(H,t)})(St);var dn=St.exports,Pt={exports:{}};Pt.exports;(function(t){(function(e,n,i){function u(s){var r=this;r.next=function(){var d=r.x,o=r.i,c,h;return c=d[o],c^=c>>>7,h=c^c<<24,c=d[o+1&7],h^=c^c>>>10,c=d[o+3&7],h^=c^c>>>3,c=d[o+4&7],h^=c^c<<7,c=d[o+7&7],c=c^c<<13,h^=c^c<<9,d[o]=h,r.i=o+1&7,h};function l(d,o){var c,h=[];if(o===(o|0))h[0]=o;else for(o=""+o,c=0;c<o.length;++c)h[c&7]=h[c&7]<<15^o.charCodeAt(c)+h[c+1&7]<<13;for(;h.length<8;)h.push(0);for(c=0;c<8&&h[c]===0;++c);for(c==8?h[7]=-1:h[c],d.x=h,d.i=0,c=256;c>0;--c)d.next()}l(r,s)}function a(s,r){return r.x=s.x.slice(),r.i=s.i,r}function f(s,r){s==null&&(s=+new Date);var l=new u(s),d=r&&r.state,o=function(){return(l.next()>>>0)/4294967296};return o.double=function(){do var c=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(c+h)/(1<<21);while(p===0);return p},o.int32=l.next,o.quick=o,d&&(d.x&&a(d,l),o.state=function(){return a(l,{})}),o}n&&n.exports?n.exports=f:this.xorshift7=f})(H,t)})(Pt);var fn=Pt.exports,Et={exports:{}};Et.exports;(function(t){(function(e,n,i){function u(s){var r=this;r.next=function(){var d=r.w,o=r.X,c=r.i,h,p;return r.w=d=d+1640531527|0,p=o[c+34&127],h=o[c=c+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=o[c]=p^h,r.i=c,p+(d^d>>>16)|0};function l(d,o){var c,h,p,m,y,b=[],w=128;for(o===(o|0)?(h=o,o=null):(o=o+"\0",h=0,w=Math.max(w,o.length)),p=0,m=-32;m<w;++m)o&&(h^=o.charCodeAt((m+32)%o.length)),m===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(y=y+1640531527|0,c=b[m&127]^=h+y,p=c==0?p+1:0);for(p>=128&&(b[(o&&o.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=b[p+34&127],c=b[p=p+1&127],h^=h<<13,c^=c<<17,h^=h>>>15,c^=c>>>12,b[p]=h^c;d.w=y,d.X=b,d.i=p}l(r,s)}function a(s,r){return r.i=s.i,r.w=s.w,r.X=s.X.slice(),r}function f(s,r){s==null&&(s=+new Date);var l=new u(s),d=r&&r.state,o=function(){return(l.next()>>>0)/4294967296};return o.double=function(){do var c=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(c+h)/(1<<21);while(p===0);return p},o.int32=l.next,o.quick=o,d&&(d.X&&a(d,l),o.state=function(){return a(l,{})}),o}n&&n.exports?n.exports=f:this.xor4096=f})(H,t)})(Et);var pn=Et.exports,Mt={exports:{}};Mt.exports;(function(t){(function(e,n,i){function u(s){var r=this,l="";r.next=function(){var o=r.b,c=r.c,h=r.d,p=r.a;return o=o<<25^o>>>7^c,c=c-h|0,h=h<<24^h>>>8^p,p=p-o|0,r.b=o=o<<20^o>>>12^c,r.c=c=c-h|0,r.d=h<<16^c>>>16^p,r.a=p-o|0},r.a=0,r.b=0,r.c=-1640531527,r.d=1367130551,s===Math.floor(s)?(r.a=s/4294967296|0,r.b=s|0):l+=s;for(var d=0;d<l.length+20;d++)r.b^=l.charCodeAt(d)|0,r.next()}function a(s,r){return r.a=s.a,r.b=s.b,r.c=s.c,r.d=s.d,r}function f(s,r){var l=new u(s),d=r&&r.state,o=function(){return(l.next()>>>0)/4294967296};return o.double=function(){do var c=l.next()>>>11,h=(l.next()>>>0)/4294967296,p=(c+h)/(1<<21);while(p===0);return p},o.int32=l.next,o.quick=o,d&&(typeof d=="object"&&a(d,l),o.state=function(){return a(l,{})}),o}n&&n.exports?n.exports=f:this.tychei=f})(H,t)})(Mt);var vn=Mt.exports,Qt={exports:{}};const gn={},xn=Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"})),mn=Ce(xn);(function(t){(function(e,n,i){var u=256,a=6,f=52,s="random",r=i.pow(u,a),l=i.pow(2,f),d=l*2,o=u-1,c;function h(v,x,P){var S=[];x=x==!0?{entropy:!0}:x||{};var E=b(y(x.entropy?[v,g(n)]:v??w(),3),S),I=new p(S),k=function(){for(var $=I.g(a),j=r,L=0;$<l;)$=($+L)*u,j*=u,L=I.g(1);for(;$>=d;)$/=2,j/=2,L>>>=1;return($+L)/j};return k.int32=function(){return I.g(4)|0},k.quick=function(){return I.g(4)/4294967296},k.double=k,b(g(I.S),n),(x.pass||P||function($,j,L,A){return A&&(A.S&&m(A,I),$.state=function(){return m(I,{})}),L?(i[s]=$,j):$})(k,E,"global"in x?x.global:this==i,x.state)}function p(v){var x,P=v.length,S=this,E=0,I=S.i=S.j=0,k=S.S=[];for(P||(v=[P++]);E<u;)k[E]=E++;for(E=0;E<u;E++)k[E]=k[I=o&I+v[E%P]+(x=k[E])],k[I]=x;(S.g=function($){for(var j,L=0,A=S.i,q=S.j,R=S.S;$--;)j=R[A=o&A+1],L=L*u+R[o&(R[A]=R[q=o&q+j])+(R[q]=j)];return S.i=A,S.j=q,L})(u)}function m(v,x){return x.i=v.i,x.j=v.j,x.S=v.S.slice(),x}function y(v,x){var P=[],S=typeof v,E;if(x&&S=="object")for(E in v)try{P.push(y(v[E],x-1))}catch{}return P.length?P:S=="string"?v:v+"\0"}function b(v,x){for(var P=v+"",S,E=0;E<P.length;)x[o&E]=o&(S^=x[o&E]*19)+P.charCodeAt(E++);return g(x)}function w(){try{var v;return c&&(v=c.randomBytes)?v=v(u):(v=new Uint8Array(u),(e.crypto||e.msCrypto).getRandomValues(v)),g(v)}catch{var x=e.navigator,P=x&&x.plugins;return[+new Date,e,P,e.screen,g(n)]}}function g(v){return String.fromCharCode.apply(0,v)}if(b(i.random(),n),t.exports){t.exports=h;try{c=mn}catch{}}else i["seed"+s]=h})(typeof self<"u"?self:H,[],Math)})(Qt);var yn=Qt.exports,wn=cn,_n=hn,bn=dn,Sn=fn,Pn=pn,En=vn,Y=yn;Y.alea=wn;Y.xor128=_n;Y.xorwow=bn;Y.xorshift7=Sn;Y.xor4096=Pn;Y.tychei=En;var Mn=Y;const Cn=$e(Mn),Gt=.3,$n=.3,kn=.3,Ln=at({__name:"global-bottom",setup(t){Me();const{currentSlideRoute:e}=yt(),n=D(()=>{var h,p;return((p=(h=e.value.meta)==null?void 0:h.slide)==null?void 0:p.frontmatter)||{}}),i=D(()=>n.value.glow||"full"),u=D(()=>+(n.value.glowOpacity||.4)),a=D(()=>+(n.value.glowHue||0)),f=D(()=>n.value.glowSeed==="false"||n.value.glowSeed===!1?Date.now().toString():n.value.glowSeed||"default");function s(h){let y=[-.2,1.2],b=[-.2,1.2];function w(v,x){return[Math.max(v[0],x[0]),Math.min(v[1],x[1])]}const g=h.split("-");for(const v of g)switch(v){case"top":b=w(b,[-.2,.6]);break;case"bottom":b=w(b,[.4,1.2]);break;case"left":y=w(y,[-.2,.6]);break;case"right":y=w(y,[.4,1.2]);break;case"xcenter":y=w(y,[.25,.75]);break;case"ycenter":b=w(b,[.25,.75]);break;case"center":y=w(y,[.25,.75]),b=w(b,[.25,.75]);break;case"full":y=w(y,[0,1]),b=w(b,[0,1]);break}return{x:y,y:b}}function r([h,p],[m,y]){return(m-h)**2+(y-p)**2}function l(h=16){function p(){const w=s(i.value),g=Cn(`${f.value}-${e.value.no}`);function v([P,S]){return g()*(S-P)+P}function x(P,S){return P=P*(1+S*2)-S,g()<kn?P+(g()-.5)*$n:P}return Array.from({length:h}).fill(0).map(()=>[x(v(w.x),Gt),x(v(w.y),Gt)])}const m=K(p()),y=D(()=>m.value.map(([w,g])=>`${w*100}% ${g*100}%`).join(", "));function b(){const w=new Set(p());m.value=m.value.map(g=>{let v=Number.POSITIVE_INFINITY,x;for(const P of w){const S=r(g,P);S<v&&(v=S,x=P)}return w.delete(x),x})}return Vt(e,()=>{b()}),y}const d=l(10),o=l(6),c=l(3);return(h,p)=>(nt(),lt("div",{class:"bg transform-gpu overflow-hidden pointer-events-none",style:U({filter:`blur(70px) hue-rotate(${a.value}deg)`}),"aria-hidden":"true"},[st("div",{class:"clip bg-gradient-to-r from-[#00dcc2] to-white/10",style:U({"clip-path":`polygon(${O(d)})`,opacity:u.value})},null,4),st("div",{class:"clip bg-gradient-to-l from-[#2366a6] to-white/10",style:U({"clip-path":`polygon(${O(o)})`,opacity:u.value})},null,4),st("div",{class:"clip bg-gradient-to-t from-[#5523a6] to-white/10",style:U({"clip-path":`polygon(${O(c)})`,opacity:.2})},null,4)],4))}}),Dn=wt(Ln,[["__scopeId","data-v-db641e88"]]),qn={render:()=>[]},Bn={render:()=>[le(Dn)]},In={render:()=>[]},An={render:()=>[]},Nn=["data-slidev-no"],jn=at({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(t){const e=t,n=D(()=>{var a,f;return((f=(a=e.route.meta)==null?void 0:a.slide)==null?void 0:f.frontmatter.zoom)??1});G(ye,e.route),G(we,e.route.meta.slide.frontmatter),G(_e,K(e.route.no)),G(be,K(e.renderContext)),G(Se,ue(e,"clicksContext")),G(Pe,n);const i=D(()=>n.value===1?void 0:{width:`${100/n.value}%`,height:`${100/n.value}%`,transformOrigin:"top left",transform:`scale(${n.value})`}),u=D(()=>({...i.value,"user-select":vt.selectable?void 0:"none"}));return(a,f)=>(nt(),lt("div",{"data-slidev-no":e.route.no,class:de(O(Ee)(t.route,["slide","presenter"].includes(e.renderContext)?"":"disable-view-transition")),style:U(u.value)},[Dt(O(An)),(nt(),ce(he(e.route.component))),Dt(O(In))],14,Nn))}}),Gn=wt(jn,[["__scopeId","data-v-a762c171"]]),zn=["innerHTML"],Vn=at({__name:"DrawingPreview",props:{page:{}},setup(t){const{drawingState:e}=un();return(n,i)=>O(e)[n.page]?(nt(),lt("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:O(e)[n.page]},null,8,zn)):fe("v-if",!0)}});export{Bn as G,Gn as S,Vn as _,Xn as a,ke as b,un as c,qn as d,Rn as u};
