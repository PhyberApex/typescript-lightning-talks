import{z as P,B as u,t as j,S as en,V as $t,a9 as tn,K as sn,y as nn,n as rn,E as at,aa as on,ab as an,ac as X,ad as be,T as ln,ae as un,d as Q,af as cn,ag as hn,ah as Te,b as w,e as E,f as Ye,h as Ne,o as f,ai as dn,l as N,c as L,aj as Ue,i as Z,g as S,k as W,x as pe,ak as xs,D as lt,F as Y,al as dt,am as fn,an as Et,ao as bs,ap as ut,aq as Ke,j as vt,ar as ws,Q as je,a3 as ks,a4 as vn,a2 as pn,as as Ss,M as gn,C as mn,at as pt,q as Ce,s as Ie,m as _n,au as yn,av as xn,aw as bn,v as wn}from"../modules/vue-C38QcYWz.js";import{g as Ft,u as ye,c as ge,d as Pt,p as es,o as kn,i as Ms,s as Sn,a as Ot,b as fe,t as Vt,e as wt,f as De,m as Qt,h as Es,j as Mn,k as En,l as Zt,n as ts,q as rt,r as ct,v as ht,w as $s,x as $n,_ as Xe,y as Pn,z as Cn,A as In,B as Ln,C as Nn,D as An,E as Rn,F as zt,G as Fe,H as Ps,I as Cs,J as it,K as We,L as Tn,M as Ct,N as ot,O as yt,P as Dn,Q as ss,R as gt,S as Fn,T as On,U as Vn,V as ns,W as rs,X as It,Y as zn,Z as Bn}from"../index-B-y1vFzZ.js";import{_ as jn,a as Is,b as Ls,I as Kn,c as Hn,d as Gn,e as Un,f as Ns,g as As,h as Rs,i as Ts,j as Wn,k as Yn,l as Xn,m as Ds,n as Qn,o as Zn,p as Jn,q as qn,r as er}from"../modules/unplugin-icons-DrRcbIr3.js";import{u as tr}from"./context-Cym-JLnc.js";import{t as sr}from"../modules/shiki-BOaayMhl.js";function nr(e){var t;return{info:j(((t=Ft(e))==null?void 0:t.meta.slide)??null),update:async()=>{}}}const Lt={};function rr(e){function t(s){return Lt[s]??(Lt[s]=nr(s))}return{info:P({get(){return t(u(e)).info.value},set(s){t(u(e)).info.value=s}}),update:async(s,n)=>{const i=t(n??u(e)),r=await i.update(s);return r&&(i.info.value=r),r}}}var ir=Object.defineProperty,is=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,os=(e,t,s)=>t in e?ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Bt=(e,t)=>{for(var s in t||(t={}))or.call(t,s)&&os(e,s,t[s]);if(is)for(var s of is(t))ar.call(t,s)&&os(e,s,t[s]);return e},lr=()=>({emit(e,...t){for(let s=0,n=this.events[e]||[],i=n.length;s<i;s++)n[s](...t)},events:{},on(e,t){var s;return((s=this.events)[e]||(s[e]=[])).push(t),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(i=>t!==i)}}});function as(e,t,s,n=i=>i){return e*n(.5-t*(.5-s))}function ur(e){return[-e[0],-e[1]]}function ke(e,t){return[e[0]+t[0],e[1]+t[1]]}function _e(e,t){return[e[0]-t[0],e[1]-t[1]]}function we(e,t){return[e[0]*t,e[1]*t]}function cr(e,t){return[e[0]/t,e[1]/t]}function et(e){return[e[1],-e[0]]}function ls(e,t){return e[0]*t[0]+e[1]*t[1]}function hr(e,t){return e[0]===t[0]&&e[1]===t[1]}function dr(e){return Math.hypot(e[0],e[1])}function fr(e){return e[0]*e[0]+e[1]*e[1]}function us(e,t){return fr(_e(e,t))}function Fs(e){return cr(e,dr(e))}function vr(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function tt(e,t,s){let n=Math.sin(s),i=Math.cos(s),r=e[0]-t[0],o=e[1]-t[1],a=r*i-o*n,l=r*n+o*i;return[a+t[0],l+t[1]]}function jt(e,t,s){return ke(e,we(_e(t,e),s))}function cs(e,t,s){return ke(e,we(t,s))}var{min:He,PI:pr}=Math,hs=.275,st=pr+1e-4;function gr(e,t={}){let{size:s=16,smoothing:n=.5,thinning:i=.5,simulatePressure:r=!0,easing:o=I=>I,start:a={},end:l={},last:h=!1}=t,{cap:c=!0,easing:d=I=>I*(2-I)}=a,{cap:v=!0,easing:m=I=>--I*I*I+1}=l;if(e.length===0||s<=0)return[];let p=e[e.length-1].runningLength,g=a.taper===!1?0:a.taper===!0?Math.max(s,p):a.taper,k=l.taper===!1?0:l.taper===!0?Math.max(s,p):l.taper,_=Math.pow(s*n,2),b=[],x=[],A=e.slice(0,10).reduce((I,H)=>{let V=H.pressure;if(r){let B=He(1,H.distance/s),qe=He(1,1-B);V=He(1,I+(qe-I)*(B*hs))}return(I+V)/2},e[0].pressure),y=as(s,i,e[e.length-1].pressure,o),O,T=e[0].vector,U=e[0].point,D=U,te=U,F=D,se=!1;for(let I=0;I<e.length;I++){let{pressure:H}=e[I],{point:V,vector:B,distance:qe,runningLength:Ve}=e[I];if(I<e.length-1&&p-Ve<3)continue;if(i){if(r){let q=He(1,qe/s),he=He(1,1-q);H=He(1,A+(he-A)*(q*hs))}y=as(s,i,H,o)}else y=s/2;O===void 0&&(O=y);let M=Ve<g?d(Ve/g):1,G=p-Ve<k?m((p-Ve)/k):1;y=Math.max(.01,y*Math.min(M,G));let K=(I<e.length-1?e[I+1]:e[I]).vector,C=I<e.length-1?ls(B,K):1,R=ls(B,T)<0&&!se,J=C!==null&&C<0;if(R||J){let q=we(et(T),y);for(let he=1/13,le=0;le<=1;le+=he)te=tt(_e(V,q),V,st*le),b.push(te),F=tt(ke(V,q),V,st*-le),x.push(F);U=te,D=F,J&&(se=!0);continue}if(se=!1,I===e.length-1){let q=we(et(B),y);b.push(_e(V,q)),x.push(ke(V,q));continue}let ie=we(et(jt(K,B,C)),y);te=_e(V,ie),(I<=1||us(U,te)>_)&&(b.push(te),U=te),F=ke(V,ie),(I<=1||us(D,F)>_)&&(x.push(F),D=F),A=H,T=B}let ce=e[0].point.slice(0,2),z=e.length>1?e[e.length-1].point.slice(0,2):ke(e[0].point,[1,1]),re=[],ae=[];if(e.length===1){if(!(g||k)||h){let I=cs(ce,Fs(et(_e(ce,z))),-(O||y)),H=[];for(let V=1/13,B=V;B<=1;B+=V)H.push(tt(I,ce,st*2*B));return H}}else{if(!(g||k&&e.length===1))if(c)for(let H=1/13,V=H;V<=1;V+=H){let B=tt(x[0],ce,st*V);re.push(B)}else{let H=_e(b[0],x[0]),V=we(H,.5),B=we(H,.51);re.push(_e(ce,V),_e(ce,B),ke(ce,B),ke(ce,V))}let I=et(ur(e[e.length-1].vector));if(k||g&&e.length===1)ae.push(z);else if(v){let H=cs(z,I,y);for(let V=1/29,B=V;B<1;B+=V)ae.push(tt(H,z,st*3*B))}else ae.push(ke(z,we(I,y)),ke(z,we(I,y*.99)),_e(z,we(I,y*.99)),_e(z,we(I,y)))}return b.concat(ae,x.reverse(),re)}function mr(e,t={}){var s;let{streamline:n=.5,size:i=16,last:r=!1}=t;if(e.length===0)return[];let o=.15+(1-n)*.85,a=Array.isArray(e[0])?e:e.map(({x:m,y:p,pressure:g=.5})=>[m,p,g]);if(a.length===2){let m=a[1];a=a.slice(0,-1);for(let p=1;p<5;p++)a.push(jt(a[0],m,p/4))}a.length===1&&(a=[...a,[...ke(a[0],[1,1]),...a[0].slice(2)]]);let l=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],h=!1,c=0,d=l[0],v=a.length-1;for(let m=1;m<a.length;m++){let p=r&&m===v?a[m].slice(0,2):jt(d.point,a[m],o);if(hr(d.point,p))continue;let g=vr(p,d.point);if(c+=g,m<v&&!h){if(c<i)continue;h=!0}d={point:p,pressure:a[m][2]>=0?a[m][2]:.5,vector:Fs(_e(d.point,p)),distance:g,runningLength:c},l.push(d)}return l[0].vector=((s=l[1])==null?void 0:s.vector)||[0,0],l}function _r(e,t={}){return gr(mr(e,t),t)}function kt(e,t){return e-t}function yr(e){return e<0?-1:1}function St(e){return[Math.abs(e),yr(e)]}function Os(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var xr=2,Le=xr,Qe=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,s,n;const i=this.drauu.el,r=(t=this.drauu.options.coordinateScale)!=null?t:1,o=(s=this.drauu.options.offset)!=null?s:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const a=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-a.left+o.x)*r,y:(e.pageY-a.top+o.y)*r,pressure:e.pressure}}else{const a=this.drauu.svgPoint;a.x=e.clientX+o.x,a.y=e.clientY+o.y;const l=a.matrixTransform((n=i.getScreenCTM())==null?void 0:n.inverse());return{x:l.x*r,y:l.y*r,pressure:e.pressure}}}createElement(e,t){var s;const n=document.createElementNS("http://www.w3.org/2000/svg",e),i=t?Bt(Bt({},this.brush),t):this.brush;return n.setAttribute("fill",(s=i.fill)!=null?s:"transparent"),n.setAttribute("stroke",i.color),n.setAttribute("stroke-width",i.size.toString()),n.setAttribute("stroke-linecap","round"),i.dasharray&&n.setAttribute("stroke-dasharray",i.dasharray),n}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(Le))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},br=class Vs extends Qe{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return Vs.getSvgData(t,this.brush)}static getSvgData(t,s){const n=_r(t,Bt({size:s.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},s.stylusOptions));if(!n.length)return"";const i=n.reduce((r,[o,a],l,h)=>{const[c,d]=h[(l+1)%h.length];return r.push(o,a,(o+c)/2,(a+d)/2),r},["M",...n[0],"Q"]);return i.push("Z"),i.map(r=>typeof r=="number"?r.toFixed(2):r).join(" ")}},wr=class extends Qe{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=St(e.x-this.start.x),[n,i]=St(e.y-this.start.y);if(this.shiftPressed){const r=Math.min(t,n);t=r,n=r}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",n);else{const[r,o]=[this.start.x,this.start.x+t*s].sort(kt),[a,l]=[this.start.y,this.start.y+n*i].sort(kt);this.attr("cx",(r+o)/2),this.attr("cy",(a+l)/2),this.attr("rx",(o-r)/2),this.attr("ry",(l-a)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function zs(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill",t),n.setAttribute("id",e),n.setAttribute("viewBox","0 -5 10 10"),n.setAttribute("refX","5"),n.setAttribute("refY","0"),n.setAttribute("markerWidth","4"),n.setAttribute("markerHeight","4"),n.setAttribute("orient","auto"),i.setAttribute("d","M0,-5L10,0L0,5"),n.appendChild(i),s.appendChild(n),s}var kr=class extends Qe{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Os(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(zs(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const n=e.x-this.start.x,i=e.y-this.start.y;if(i!==0){let r=n/i;r=Math.round(r),Math.abs(r)<=1?(t=this.start.x+i*r,s=this.start.y+i):(t=this.start.x+n,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},Sr=class extends Qe{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=St(e.x-this.start.x),[n,i]=St(e.y-this.start.y);if(this.shiftPressed){const r=Math.min(t,n);t=r,n=r}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-n),this.attr("width",t*2),this.attr("height",n*2);else{const[r,o]=[this.start.x,this.start.x+t*s].sort(kt),[a,l]=[this.start.y,this.start.y+n*i].sort(kt);this.attr("x",r),this.attr("y",a),this.attr("width",o-r),this.attr("height",l-a)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function Mr(e,t){const s=e.x-t.x,n=e.y-t.y;return s*s+n*n}function Er(e,t,s){let n=t.x,i=t.y,r=s.x-n,o=s.y-i;if(r!==0||o!==0){const a=((e.x-n)*r+(e.y-i)*o)/(r*r+o*o);a>1?(n=s.x,i=s.y):a>0&&(n+=r*a,i+=o*a)}return r=e.x-n,o=e.y-i,r*r+o*o}function $r(e,t){let s=e[0];const n=[s];let i;for(let r=1,o=e.length;r<o;r++)i=e[r],Mr(i,s)>t&&(n.push(i),s=i);return s!==i&&i&&n.push(i),n}function Kt(e,t,s,n,i){let r=n,o=0;for(let a=t+1;a<s;a++){const l=Er(e[a],e[t],e[s]);l>r&&(o=a,r=l)}r>n&&(o-t>1&&Kt(e,t,o,n,i),i.push(e[o]),s-o>1&&Kt(e,o,s,n,i))}function Pr(e,t){const s=e.length-1,n=[e[0]];return Kt(e,0,s,t,n),n.push(e[s]),n}function ds(e,t,s=!1){if(e.length<=2)return e;const n=t*t;return e=s?e:$r(e,n),e=Pr(e,n),e}var Cr=class ze extends Qe{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Os();const s=zs(this.arrowId,this.brush.color);this.el.appendChild(s)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=ds(this.points,1,!0),this.count=0),this.attr("d",ze.toSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",ze.toSvgData(ds(this.points,1,!0))),!t.getTotalLength()))}static line(t,s){const n=s.x-t.x,i=s.y-t.y;return{length:Math.sqrt(n**2+i**2),angle:Math.atan2(i,n)}}static controlPoint(t,s,n,i){const r=s||t,o=n||t,a=.2,l=ze.line(r,o),h=l.angle+(i?Math.PI:0),c=l.length*a,d=t.x+Math.cos(h)*c,v=t.y+Math.sin(h)*c;return{x:d,y:v}}static bezierCommand(t,s,n){const i=ze.controlPoint(n[s-1],n[s-2],t),r=ze.controlPoint(t,n[s-1],n[s+1],!0);return`C ${i.x.toFixed(Le)},${i.y.toFixed(Le)} ${r.x.toFixed(Le)},${r.y.toFixed(Le)} ${t.x.toFixed(Le)},${t.y.toFixed(Le)}`}static toSvgData(t){return t.reduce((s,n,i,r)=>i===0?`M ${n.x.toFixed(Le)},${n.y.toFixed(Le)}`:`${s} ${ze.bezierCommand(n,i,r)}`,"")}},Ir=class extends Qe{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(e){const t=(s,n)=>{if(s&&s.length)for(let i=0;i<s.length;i++){const r=s[i];if(r.getTotalLength){const o=r.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const l=r.getPointAtLength(o*a/this.pathSubFactor),h=r.getPointAtLength(o*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:l.x,x2:h.x,y1:l.y,y2:h.y,segment:a,element:n||r})}}else r.children&&t(r.children,r)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const e=this._erased;return this._erased=[],{undo:()=>e.forEach(t=>this.drauu._restoreNode(t)),redo:()=>e.forEach(t=>this.drauu._removeNode(t))}}checkAndEraseElement(){if(this.pathFragments.length)for(let e=0;e<this.pathFragments.length;e++){const t=this.pathFragments[e],s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,s)&&(this.drauu._removeNode(t.element),this._erased.push(t.element))}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(e=>!this._erased.includes(e.element))),this._erased.length>0}lineLineIntersect(e,t){const s=e.x1,n=e.x2,i=t.x1,r=t.x2,o=e.y1,a=e.y2,l=t.y1,h=t.y2,c=(s-n)*(l-h)-(o-a)*(i-r),d=(s*a-o*n)*(i-r)-(s-n)*(i*h-l*r),v=(s*a-o*n)*(l-h)-(o-a)*(i*h-l*r),m=(p,g,k)=>p>=g&&p<=k?!0:p>=k&&p<=g;if(c===0)return!1;{const p={x:d/c,y:v/c};return m(p.x,s,n)&&m(p.y,o,a)&&m(p.x,i,r)&&m(p.y,l,h)}}};function Lr(e){return{draw:new Cr(e),stylus:new br(e),line:new kr(e),rectangle:new Sr(e),ellipse:new wr(e),eraseLine:new Ir(e)}}var Nr=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=lr(),this._originalPointerId=null,this._models=Lr(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget,e.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t,s=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const n=this.resolveSelector(t)||this.el,i=this.eventStart.bind(this),r=this.eventMove.bind(this),o=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);n.addEventListener("pointerdown",i,{passive:!1}),s.addEventListener("pointermove",r,{passive:!1}),s.addEventListener("pointerup",o,{passive:!1}),s.addEventListener("pointercancel",o,{passive:!1}),s.addEventListener("keydown",a,!1),s.addEventListener("keyup",a,!1),this._disposables.push(()=>{n.removeEventListener("pointerdown",i),s.removeEventListener("pointermove",r),s.removeEventListener("pointerup",o),s.removeEventListener("pointercancel",o),s.removeEventListener("keydown",a,!1),s.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);if(!t)this.cancel();else if(t===!0){const s=this._currentNode;this._appendNode(s),this.commit({undo:()=>this._removeNode(s),redo:()=>this._restoreNode(s)})}else this.commit(t);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(e){this._opStack.length=this._opIndex,this._opStack.push(e),this._opIndex++;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._opStack.length=0,this._opIndex=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}_appendNode(e){const t=this._elements.at(-1);t?t.after(e):this.el.append(e);const s=this._elements.push(e)-1;e.dataset.drauu_index=s.toString()}_removeNode(e){e.remove(),this._elements[+e.dataset.drauu_index]=null}_restoreNode(e){const t=+e.dataset.drauu_index;this._elements[t]=e;for(let s=t-1;s>=0;s--){const n=this._elements[s];if(n){n.after(e);return}}this.el.prepend(e)}};function Ar(e){return new Nr(e)}const Ze=en(()=>{const{currentSlideNo:e,isPresenter:t}=ye(),s=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],n=$t("slidev-drawing-enabled",!1),i=$t("slidev-drawing-pinned",!1),r=tn($t("slidev-drawing-brush",{color:s[0],size:4,mode:"stylus"})),o=j(!1),a=j(!1),l=j(!1),h=j(!1),c=j("stylus"),d=P(()=>ge.drawings.syncAll||t.value);let v=!1;const m=P({get(){return c.value},set(x){c.value=x,x==="arrow"?(g.mode="line",r.arrowEnd=!0):(g.mode=x,r.arrowEnd=!1)}}),p=sn({brush:r,acceptsInputTypes:P(()=>n.value&&(!ge.drawings.presenterOnly||t.value)?void 0:["pen"]),coordinateTransform:!1}),g=nn(Ar(p));function k(){g.clear(),d.value&&es(e.value,"")}function _(){var x;l.value=g.canRedo(),a.value=g.canUndo(),h.value=!!((x=g.el)!=null&&x.children.length)}function b(x){v=!0;const A=Pt[x||e.value];A!=null?g.load(A):g.clear(),_(),v=!1}return g.on("changed",()=>{if(_(),!v){const x=g.dump(),A=e.value;(Pt[A]||"")!==x&&d.value&&es(A,g.dump())}}),kn(x=>{v=!0,x[e.value]!=null&&g.load(x[e.value]||""),v=!1,_()}),rn(()=>{at(e,()=>{g.mounted&&b()},{immediate:!0})}),g.on("start",()=>o.value=!0),g.on("end",()=>o.value=!1),window.addEventListener("keydown",x=>{if(!n.value||Ms.value)return;const A=!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey;let y=!0;x.code==="KeyZ"&&(x.ctrlKey||x.metaKey)?x.shiftKey?g.redo():g.undo():x.code==="Escape"?n.value=!1:x.code==="KeyL"&&A?m.value="line":x.code==="KeyA"&&A?m.value="arrow":x.code==="KeyS"&&A?m.value="stylus":x.code==="KeyR"&&A?m.value="rectangle":x.code==="KeyE"&&A?m.value="ellipse":x.code==="KeyC"&&A?k():x.code.startsWith("Digit")&&A&&+x.code[5]<=s.length?r.color=s[+x.code[5]-1]:y=!1,y&&(x.preventDefault(),x.stopPropagation())},!1),{brush:r,brushColors:s,canClear:h,canRedo:l,canUndo:a,clear:k,drauu:g,drauuOptions:p,drawingEnabled:n,drawingMode:m,drawingPinned:i,drawingState:Pt,isDrawing:o,loadCanvas:b}});function Rr(e){const{next:t,nextSlide:s,prev:n,prevSlide:i}=ye(),{isDrawing:r}=Ze(),o=j(0),{direction:a,distanceX:l,distanceY:h}=on(e,{pointerTypes:["touch"],onSwipeStart(){r.value||(o.value=an())},onSwipeEnd(){if(!o.value||r.value)return;const c=Math.abs(l.value),d=Math.abs(h.value);c/window.innerWidth>.3||c>75?a.value==="left"?t():n():(d/window.innerHeight>.4||d>200)&&(a.value==="down"?i():s())}})}const xt=j(1),bt=P(()=>Sn.value.length),ne=j(0),Jt=j(0);function Tr(){ne.value>xt.value&&(ne.value-=1)}function Dr(){ne.value<bt.value&&(ne.value+=1)}function Fr(){if(ne.value>xt.value){let e=ne.value-Jt.value;e<xt.value&&(e=xt.value),ne.value=e}}function Or(){if(ne.value<bt.value){let e=ne.value+Jt.value;e>bt.value&&(e=bt.value),ne.value=e}}const Vr=[];function zr(){const{go:e,goFirst:t,goLast:s,next:n,nextSlide:i,prev:r,prevSlide:o}=ye(),{drawingEnabled:a}=Ze(),{escape:l,space:h,shift:c,left:d,right:v,up:m,down:p,enter:g,d:k,g:_,o:b,"`":x}=Qt,A={next:n,prev:r,nextSlide:i,prevSlide:o,go:e,goFirst:t,goLast:s,downloadPDF:Es,toggleDark:Vt,toggleOverview:wt,toggleDrawing:()=>a.value=!a.value,escapeOverview:()=>fe.value=!1,showGotoDialog:()=>De.value=!De.value},y=X(be(fe),be(Ot));let O=[{name:"next_space",key:X(h,be(c)),fn:n,autoRepeat:!0},{name:"prev_space",key:X(h,c),fn:r,autoRepeat:!0},{name:"next_right",key:X(v,be(c),y),fn:n,autoRepeat:!0},{name:"prev_left",key:X(d,be(c),y),fn:r,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:n,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:r,autoRepeat:!0},{name:"next_down",key:X(p,y),fn:i,autoRepeat:!0},{name:"prev_up",key:X(m,y),fn:o,autoRepeat:!0},{name:"next_shift",key:X(v,c),fn:i,autoRepeat:!0},{name:"prev_shift",key:X(d,c),fn:o,autoRepeat:!0},{name:"toggle_dark",key:X(k,be(a)),fn:Vt},{name:"toggle_overview",key:X(ln(b,x),be(a)),fn:wt},{name:"hide_overview",key:X(l,be(a)),fn:()=>fe.value=!1},{name:"goto",key:X(_,be(a)),fn:()=>De.value=!De.value},{name:"next_overview",key:X(v,fe),fn:Dr},{name:"prev_overview",key:X(d,fe),fn:Tr},{name:"up_overview",key:X(m,fe),fn:Fr},{name:"down_overview",key:X(p,fe),fn:Or},{name:"goto_from_overview",key:X(g,fe),fn:()=>{e(ne.value),fe.value=!1}}];const T=new Set(O.map(D=>D.name));for(const D of Vr){const te=D(A,O);O=O.concat(te)}if(O.filter(D=>D.name&&T.has(D.name)).length===0){const D=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(D),console.warn(D)}return O}const Bs=X(be(Ms),be(En),Mn);function Br(e,t,s=!1){typeof e=="string"&&(e=Qt[e]);const n=X(e,Bs);let i=0,r;const o=()=>{if(clearTimeout(r),!n.value){i=0;return}s&&(r=setTimeout(o,Math.max(1e3-i*250,150)),i++),t()};return at(n,o,{flush:"sync"})}function jr(e,t){return un(e,s=>{Bs.value&&(s.repeat||t())})}function Kr(){const e=zr();new Map(e.map(s=>[s.key,s])).forEach(s=>{s.fn&&Br(s.key,s.fn,s.autoRepeat)}),jr("f",()=>Zt.toggle())}const Hr=["id"],Gr=["id"],Ur=Q({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1}},setup(e){const t=e,{isPrintMode:s}=ye(),n=j(null),i=cn(n),r=j(null),o=P(()=>t.width??i.width.value),a=P(()=>t.width?t.width/ts.value:i.height.value),l=P(()=>rt.value&&!s.value?+rt.value:Math.min(o.value/ct.value,a.value/ht.value)),h=P(()=>({height:`${ht.value}px`,width:`${ct.value}px`,transform:`translate(-50%, -50%) scale(${l.value})`,"--slidev-slide-scale":l.value})),c=P(()=>t.width?{width:`${t.width}px`,height:`${t.width/ts.value}px`}:{});return t.isMain&&hn(P(()=>`:root { --slidev-slide-scale: ${l.value}; }`)),Te($s,l),Te($n,r),(d,v)=>(f(),w("div",{id:e.isMain?"slide-container":void 0,ref_key:"container",ref:n,class:"slidev-slide-container",style:Ne(c.value)},[E("div",{id:e.isMain?"slide-content":void 0,ref_key:"slideElement",ref:r,class:"slidev-slide-content",style:Ne(h.value)},[Ye(d.$slots,"default",{},void 0,!0)],12,Gr),Ye(d.$slots,"controls",{},void 0,!0)],12,Hr))}}),js=Xe(Ur,[["__scopeId","data-v-04a1b404"]]),Wr={render:()=>[]},Yr={render:()=>[]},Xr={render:()=>[]},Qr={render:()=>[]},Zr=["data-slidev-no"],Jr=Q({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(e){const t=e,s=P(()=>{var r,o;return((o=(r=t.route.meta)==null?void 0:r.slide)==null?void 0:o.frontmatter.zoom)??1});Te(Pn,t.route),Te(Cn,t.route.meta.slide.frontmatter),Te(In,j(t.route.no)),Te(Ln,j(t.renderContext)),Te(Nn,dn(t,"clicksContext")),Te(An,s);const n=P(()=>s.value===1?void 0:{width:`${100/s.value}%`,height:`${100/s.value}%`,transformOrigin:"top left",transform:`scale(${s.value})`}),i=P(()=>({...n.value,"user-select":ge.selectable?void 0:"none"}));return(r,o)=>(f(),w("div",{"data-slidev-no":t.route.no,class:Z(u(Rn)(e.route,["slide","presenter"].includes(t.renderContext)?"":"disable-view-transition")),style:Ne(i.value)},[N(u(Qr)),(f(),L(Ue(t.route.component))),N(u(Xr))],14,Zr))}}),Ks=Xe(Jr,[["__scopeId","data-v-e1663efd"]]),qr=["innerHTML"],ei=Q({__name:"DrawingPreview",props:{page:{}},setup(e){const{drawingState:t}=Ze();return(s,n)=>u(t)[s.page]?(f(),w("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:u(t)[s.page]},null,8,qr)):S("v-if",!0)}}),ti={class:"sr-only"},me=Q({__name:"IconButton",props:{title:{},icon:{},as:{}},setup(e){return(t,s)=>(f(),L(Ue(t.as||"button"),{class:"slidev-icon-btn",title:t.title},{default:W(()=>[E("span",ti,pe(t.title),1),Ye(t.$slots,"default",{},()=>[E("div",{class:Z(t.icon)},null,2)])]),_:3},8,["title"]))}}),si=["onClick"],ni={class:"text-green font-bold"},ri={class:"opacity-50"},ii={key:1,class:"opacity-50"},oi={key:0,class:"fixed top-4 right-4 z-20 text-gray-400 flex flex-col items-center gap-2"},Nt=4*16*2,fs=2*16,ai=Q({__name:"QuickOverview",setup(e){const{currentSlideNo:t,go:s,slides:n}=ye();function i(){fe.value=!1}function r(v){s(v),i()}function o(v){return v===ne.value}const a=zt.smaller("xs"),l=zt.smaller("sm"),h=P(()=>a.value?Fe.width.value-Nt:l.value?(Fe.width.value-Nt-fs)/2:300),c=P(()=>Math.floor((Fe.width.value-Nt)/(h.value+fs))),d=j("");return xs("keypress",v=>{if(!fe.value){d.value="";return}if(v.key==="Enter"){v.preventDefault(),d.value?(r(+d.value),d.value=""):r(ne.value);return}const m=Number.parseInt(v.key.replace(/\D/g,""));if(Number.isNaN(m)){d.value="";return}if(!d.value&&m===0)return;if(d.value+=String(m),+d.value>=n.value.length){d.value="";return}const p=n.value.findIndex(g=>`/${g.no}`===d.value);p!==-1&&(ne.value=p+1),+d.value*10>n.value.length&&(r(+d.value),d.value="")}),lt(()=>{ne.value=t.value,Jt.value=c.value}),(v,m)=>{const p=jn;return f(),w(Y,null,[N(fn,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px"},{default:W(()=>[u(fe)?(f(),w("div",{key:0,class:"fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)] z-20 bg-main !bg-opacity-75 p-16 py-20 overflow-y-auto backdrop-blur-5px",onClick:i},[E("div",{class:"grid gap-y-4 gap-x-8 w-full",style:Ne(`grid-template-columns: repeat(auto-fit,minmax(${h.value}px,1fr))`)},[(f(!0),w(Y,null,dt(u(n),(g,k)=>(f(),w("div",{key:g.no,class:"relative"},[E("div",{class:Z(["inline-block border rounded overflow-hidden bg-main hover:border-primary transition",o(k+1)||u(ne)===k+1?"border-primary":"border-main"]),onClick:_=>r(g.no)},[(f(),L(js,{key:g.no,width:h.value,class:"pointer-events-none"},{default:W(()=>[N(Ks,{"clicks-context":u(Ps)(g,u(Cs)),route:g,"render-context":"overview"},null,8,["clicks-context","route"]),N(ei,{page:g.no},null,8,["page"])]),_:2},1032,["width"]))],10,si),E("div",{class:"absolute top-0",style:Ne(`left: ${h.value+5}px`)},[d.value&&String(k+1).startsWith(d.value)?(f(),w(Y,{key:0},[E("span",ni,pe(d.value),1),E("span",ri,pe(String(k+1).slice(d.value.length)),1)],64)):(f(),w("span",ii,pe(k+1),1))],4)]))),128))],4)])):S("v-if",!0)]),_:1}),u(fe)?(f(),w("div",oi,[N(me,{title:"Close",class:"text-2xl",onClick:i},{default:W(()=>[N(p)]),_:1}),S("v-if",!0)])):S("v-if",!0)],64)}}}),li="/typescript-lightning-talks/01-branded-types/assets/logo-BYkHSa_O.png",ui={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},ci=Q({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,i=Et(s,"modelValue",t);function r(){i.value=!1}return(o,a)=>(f(),L(bs,null,[u(i)?(f(),w("div",ui,[E("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=l=>r())}),E("div",{class:Z(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[Ye(o.$slots,"default")],2)])):S("v-if",!0)],1024))}}),hi={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},di=["innerHTML"],fi=E("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[E("div",{class:"flex gap-1 children:my-auto"},[E("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),E("img",{class:"w-5 h-5",src:li,alt:"Slidev logo"}),E("div",{style:{color:"#2082A6"}},[E("b",null,"Sli"),Ke("dev ")])])],-1),vi=Q({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const i=Et(e,"modelValue",t),r=P(()=>typeof ge.info=="string");return(o,a)=>(f(),L(ci,{modelValue:u(i),"onUpdate:modelValue":a[0]||(a[0]=l=>ut(i)?i.value=l:null),class:"px-6 py-4"},{default:W(()=>[E("div",hi,[r.value?(f(),w("div",{key:0,class:"mb-4",innerHTML:u(ge).info},null,8,di)):S("v-if",!0),fi])]),_:1},8,["modelValue"]))}});function Ae(e){return Array.isArray?Array.isArray(e):Us(e)==="[object Array]"}const pi=1/0;function gi(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-pi?"-0":t}function mi(e){return e==null?"":gi(e)}function Ee(e){return typeof e=="string"}function Hs(e){return typeof e=="number"}function _i(e){return e===!0||e===!1||yi(e)&&Us(e)=="[object Boolean]"}function Gs(e){return typeof e=="object"}function yi(e){return Gs(e)&&e!==null}function ve(e){return e!=null}function At(e){return!e.trim().length}function Us(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const xi="Incorrect 'index' type",bi=e=>`Invalid value for key ${e}`,wi=e=>`Pattern length exceeds max of ${e}.`,ki=e=>`Missing ${e} property in key`,Si=e=>`Property 'weight' in key '${e}' must be a positive integer`,vs=Object.prototype.hasOwnProperty;class Mi{constructor(t){this._keys=[],this._keyMap={};let s=0;t.forEach(n=>{let i=Ws(n);this._keys.push(i),this._keyMap[i.id]=i,s+=i.weight}),this._keys.forEach(n=>{n.weight/=s})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ws(e){let t=null,s=null,n=null,i=1,r=null;if(Ee(e)||Ae(e))n=e,t=ps(e),s=Ht(e);else{if(!vs.call(e,"name"))throw new Error(ki("name"));const o=e.name;if(n=o,vs.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Si(o));t=ps(o),s=Ht(o),r=e.getFn}return{path:t,id:s,weight:i,src:n,getFn:r}}function ps(e){return Ae(e)?e:e.split(".")}function Ht(e){return Ae(e)?e.join("."):e}function Ei(e,t){let s=[],n=!1;const i=(r,o,a)=>{if(ve(r))if(!o[a])s.push(r);else{let l=o[a];const h=r[l];if(!ve(h))return;if(a===o.length-1&&(Ee(h)||Hs(h)||_i(h)))s.push(mi(h));else if(Ae(h)){n=!0;for(let c=0,d=h.length;c<d;c+=1)i(h[c],o,a+1)}else o.length&&i(h,o,a+1)}};return i(e,Ee(t)?t.split("."):t,0),n?s:s[0]}const $i={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Pi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Ci={location:0,threshold:.6,distance:100},Ii={useExtendedSearch:!1,getFn:Ei,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var $={...Pi,...$i,...Ci,...Ii};const Li=/[^ ]+/g;function Ni(e=1,t=3){const s=new Map,n=Math.pow(10,t);return{get(i){const r=i.match(Li).length;if(s.has(r))return s.get(r);const o=1/Math.pow(r,.5*e),a=parseFloat(Math.round(o*n)/n);return s.set(r,a),a},clear(){s.clear()}}}class qt{constructor({getFn:t=$.getFn,fieldNormWeight:s=$.fieldNormWeight}={}){this.norm=Ni(s,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((s,n)=>{this._keysMap[s.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ee(this.docs[0])?this.docs.forEach((t,s)=>{this._addString(t,s)}):this.docs.forEach((t,s)=>{this._addObject(t,s)}),this.norm.clear())}add(t){const s=this.size();Ee(t)?this._addString(t,s):this._addObject(t,s)}removeAt(t){this.records.splice(t,1);for(let s=t,n=this.size();s<n;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(t,s){return t[this._keysMap[s]]}size(){return this.records.length}_addString(t,s){if(!ve(t)||At(t))return;let n={v:t,i:s,n:this.norm.get(t)};this.records.push(n)}_addObject(t,s){let n={i:s,$:{}};this.keys.forEach((i,r)=>{let o=i.getFn?i.getFn(t):this.getFn(t,i.path);if(ve(o)){if(Ae(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:h,value:c}=l.pop();if(ve(c))if(Ee(c)&&!At(c)){let d={v:c,i:h,n:this.norm.get(c)};a.push(d)}else Ae(c)&&c.forEach((d,v)=>{l.push({nestedArrIndex:v,value:d})})}n.$[r]=a}else if(Ee(o)&&!At(o)){let a={v:o,n:this.norm.get(o)};n.$[r]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ys(e,t,{getFn:s=$.getFn,fieldNormWeight:n=$.fieldNormWeight}={}){const i=new qt({getFn:s,fieldNormWeight:n});return i.setKeys(e.map(Ws)),i.setSources(t),i.create(),i}function Ai(e,{getFn:t=$.getFn,fieldNormWeight:s=$.fieldNormWeight}={}){const{keys:n,records:i}=e,r=new qt({getFn:t,fieldNormWeight:s});return r.setKeys(n),r.setIndexRecords(i),r}function mt(e,{errors:t=0,currentLocation:s=0,expectedLocation:n=0,distance:i=$.distance,ignoreLocation:r=$.ignoreLocation}={}){const o=t/e.length;if(r)return o;const a=Math.abs(n-s);return i?o+a/i:a?1:o}function Ri(e=[],t=$.minMatchCharLength){let s=[],n=-1,i=-1,r=0;for(let o=e.length;r<o;r+=1){let a=e[r];a&&n===-1?n=r:!a&&n!==-1&&(i=r-1,i-n+1>=t&&s.push([n,i]),n=-1)}return e[r-1]&&r-n>=t&&s.push([n,r-1]),s}const Be=32;function Ti(e,t,s,{location:n=$.location,distance:i=$.distance,threshold:r=$.threshold,findAllMatches:o=$.findAllMatches,minMatchCharLength:a=$.minMatchCharLength,includeMatches:l=$.includeMatches,ignoreLocation:h=$.ignoreLocation}={}){if(t.length>Be)throw new Error(wi(Be));const c=t.length,d=e.length,v=Math.max(0,Math.min(n,d));let m=r,p=v;const g=a>1||l,k=g?Array(d):[];let _;for(;(_=e.indexOf(t,p))>-1;){let T=mt(t,{currentLocation:_,expectedLocation:v,distance:i,ignoreLocation:h});if(m=Math.min(T,m),p=_+c,g){let U=0;for(;U<c;)k[_+U]=1,U+=1}}p=-1;let b=[],x=1,A=c+d;const y=1<<c-1;for(let T=0;T<c;T+=1){let U=0,D=A;for(;U<D;)mt(t,{errors:T,currentLocation:v+D,expectedLocation:v,distance:i,ignoreLocation:h})<=m?U=D:A=D,D=Math.floor((A-U)/2+U);A=D;let te=Math.max(1,v-D+1),F=o?d:Math.min(v+D,d)+c,se=Array(F+2);se[F+1]=(1<<T)-1;for(let z=F;z>=te;z-=1){let re=z-1,ae=s[e.charAt(re)];if(g&&(k[re]=+!!ae),se[z]=(se[z+1]<<1|1)&ae,T&&(se[z]|=(b[z+1]|b[z])<<1|1|b[z+1]),se[z]&y&&(x=mt(t,{errors:T,currentLocation:re,expectedLocation:v,distance:i,ignoreLocation:h}),x<=m)){if(m=x,p=re,p<=v)break;te=Math.max(1,2*v-p)}}if(mt(t,{errors:T+1,currentLocation:v,expectedLocation:v,distance:i,ignoreLocation:h})>m)break;b=se}const O={isMatch:p>=0,score:Math.max(.001,x)};if(g){const T=Ri(k,a);T.length?l&&(O.indices=T):O.isMatch=!1}return O}function Di(e){let t={};for(let s=0,n=e.length;s<n;s+=1){const i=e.charAt(s);t[i]=(t[i]||0)|1<<n-s-1}return t}class Xs{constructor(t,{location:s=$.location,threshold:n=$.threshold,distance:i=$.distance,includeMatches:r=$.includeMatches,findAllMatches:o=$.findAllMatches,minMatchCharLength:a=$.minMatchCharLength,isCaseSensitive:l=$.isCaseSensitive,ignoreLocation:h=$.ignoreLocation}={}){if(this.options={location:s,threshold:n,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:h},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(v,m)=>{this.chunks.push({pattern:v,alphabet:Di(v),startIndex:m})},d=this.pattern.length;if(d>Be){let v=0;const m=d%Be,p=d-m;for(;v<p;)c(this.pattern.substr(v,Be),v),v+=Be;if(m){const g=d-Be;c(this.pattern.substr(g),g)}}else c(this.pattern,0)}searchIn(t){const{isCaseSensitive:s,includeMatches:n}=this.options;if(s||(t=t.toLowerCase()),this.pattern===t){let p={isMatch:!0,score:0};return n&&(p.indices=[[0,t.length-1]]),p}const{location:i,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:h}=this.options;let c=[],d=0,v=!1;this.chunks.forEach(({pattern:p,alphabet:g,startIndex:k})=>{const{isMatch:_,score:b,indices:x}=Ti(t,p,g,{location:i+k,distance:r,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:n,ignoreLocation:h});_&&(v=!0),d+=b,_&&x&&(c=[...c,...x])});let m={isMatch:v,score:v?d/this.chunks.length:1};return v&&n&&(m.indices=c),m}}class Oe{constructor(t){this.pattern=t}static isMultiMatch(t){return gs(t,this.multiRegex)}static isSingleMatch(t){return gs(t,this.singleRegex)}search(){}}function gs(e,t){const s=e.match(t);return s?s[1]:null}class Fi extends Oe{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const s=t===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Oi extends Oe{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Vi extends Oe{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const s=t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class zi extends Oe{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const s=!t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Bi extends Oe{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const s=t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ji extends Oe{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const s=!t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Qs extends Oe{constructor(t,{location:s=$.location,threshold:n=$.threshold,distance:i=$.distance,includeMatches:r=$.includeMatches,findAllMatches:o=$.findAllMatches,minMatchCharLength:a=$.minMatchCharLength,isCaseSensitive:l=$.isCaseSensitive,ignoreLocation:h=$.ignoreLocation}={}){super(t),this._bitapSearch=new Xs(t,{location:s,threshold:n,distance:i,includeMatches:r,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Zs extends Oe{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let s=0,n;const i=[],r=this.pattern.length;for(;(n=t.indexOf(this.pattern,s))>-1;)s=n+r,i.push([n,s-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Gt=[Fi,Zs,Vi,zi,ji,Bi,Oi,Qs],ms=Gt.length,Ki=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Hi="|";function Gi(e,t={}){return e.split(Hi).map(s=>{let n=s.trim().split(Ki).filter(r=>r&&!!r.trim()),i=[];for(let r=0,o=n.length;r<o;r+=1){const a=n[r];let l=!1,h=-1;for(;!l&&++h<ms;){const c=Gt[h];let d=c.isMultiMatch(a);d&&(i.push(new c(d,t)),l=!0)}if(!l)for(h=-1;++h<ms;){const c=Gt[h];let d=c.isSingleMatch(a);if(d){i.push(new c(d,t));break}}}return i})}const Ui=new Set([Qs.type,Zs.type]);class Wi{constructor(t,{isCaseSensitive:s=$.isCaseSensitive,includeMatches:n=$.includeMatches,minMatchCharLength:i=$.minMatchCharLength,ignoreLocation:r=$.ignoreLocation,findAllMatches:o=$.findAllMatches,location:a=$.location,threshold:l=$.threshold,distance:h=$.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:r,location:a,threshold:l,distance:h},this.pattern=s?t:t.toLowerCase(),this.query=Gi(this.pattern,this.options)}static condition(t,s){return s.useExtendedSearch}searchIn(t){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let r=0,o=[],a=0;for(let l=0,h=s.length;l<h;l+=1){const c=s[l];o.length=0,r=0;for(let d=0,v=c.length;d<v;d+=1){const m=c[d],{isMatch:p,indices:g,score:k}=m.search(t);if(p){if(r+=1,a+=k,n){const _=m.constructor.type;Ui.has(_)?o=[...o,...g]:o.push(g)}}else{a=0,r=0,o.length=0;break}}if(r){let d={isMatch:!0,score:a/r};return n&&(d.indices=o),d}}return{isMatch:!1,score:1}}}const Ut=[];function Yi(...e){Ut.push(...e)}function Wt(e,t){for(let s=0,n=Ut.length;s<n;s+=1){let i=Ut[s];if(i.condition(e,t))return new i(e,t)}return new Xs(e,t)}const Mt={AND:"$and",OR:"$or"},Yt={PATH:"$path",PATTERN:"$val"},Xt=e=>!!(e[Mt.AND]||e[Mt.OR]),Xi=e=>!!e[Yt.PATH],Qi=e=>!Ae(e)&&Gs(e)&&!Xt(e),_s=e=>({[Mt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Js(e,t,{auto:s=!0}={}){const n=i=>{let r=Object.keys(i);const o=Xi(i);if(!o&&r.length>1&&!Xt(i))return n(_s(i));if(Qi(i)){const l=o?i[Yt.PATH]:r[0],h=o?i[Yt.PATTERN]:i[l];if(!Ee(h))throw new Error(bi(l));const c={keyId:Ht(l),pattern:h};return s&&(c.searcher=Wt(h,t)),c}let a={children:[],operator:r[0]};return r.forEach(l=>{const h=i[l];Ae(h)&&h.forEach(c=>{a.children.push(n(c))})}),a};return Xt(e)||(e=_s(e)),n(e)}function Zi(e,{ignoreFieldNorm:t=$.ignoreFieldNorm}){e.forEach(s=>{let n=1;s.matches.forEach(({key:i,norm:r,score:o})=>{const a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:r))}),s.score=n})}function Ji(e,t){const s=e.matches;t.matches=[],ve(s)&&s.forEach(n=>{if(!ve(n.indices)||!n.indices.length)return;const{indices:i,value:r}=n;let o={indices:i,value:r};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),t.matches.push(o)})}function qi(e,t){t.score=e.score}function eo(e,t,{includeMatches:s=$.includeMatches,includeScore:n=$.includeScore}={}){const i=[];return s&&i.push(Ji),n&&i.push(qi),e.map(r=>{const{idx:o}=r,a={item:t[o],refIndex:o};return i.length&&i.forEach(l=>{l(r,a)}),a})}class Je{constructor(t,s={},n){this.options={...$,...s},this.options.useExtendedSearch,this._keyStore=new Mi(this.options.keys),this.setCollection(t,n)}setCollection(t,s){if(this._docs=t,s&&!(s instanceof qt))throw new Error(xi);this._myIndex=s||Ys(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){ve(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const s=[];for(let n=0,i=this._docs.length;n<i;n+=1){const r=this._docs[n];t(r,n)&&(this.removeAt(n),n-=1,i-=1,s.push(r))}return s}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:r,sortFn:o,ignoreFieldNorm:a}=this.options;let l=Ee(t)?Ee(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Zi(l,{ignoreFieldNorm:a}),r&&l.sort(o),Hs(s)&&s>-1&&(l=l.slice(0,s)),eo(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(t){const s=Wt(t,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:r,i:o,n:a})=>{if(!ve(r))return;const{isMatch:l,score:h,indices:c}=s.searchIn(r);l&&i.push({item:r,idx:o,matches:[{score:h,value:r,norm:a,indices:c}]})}),i}_searchLogical(t){const s=Js(t,this.options),n=(a,l,h)=>{if(!a.children){const{keyId:d,searcher:v}=a,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:v});return m&&m.length?[{idx:h,item:l,matches:m}]:[]}const c=[];for(let d=0,v=a.children.length;d<v;d+=1){const m=a.children[d],p=n(m,l,h);if(p.length)c.push(...p);else if(a.operator===Mt.AND)return[]}return c},i=this._myIndex.records,r={},o=[];return i.forEach(({$:a,i:l})=>{if(ve(a)){let h=n(s,a,l);h.length&&(r[l]||(r[l]={idx:l,item:a,matches:[]},o.push(r[l])),h.forEach(({matches:c})=>{r[l].matches.push(...c)}))}}),o}_searchObjectList(t){const s=Wt(t,this.options),{keys:n,records:i}=this._myIndex,r=[];return i.forEach(({$:o,i:a})=>{if(!ve(o))return;let l=[];n.forEach((h,c)=>{l.push(...this._findMatches({key:h,value:o[c],searcher:s}))}),l.length&&r.push({idx:a,item:o,matches:l})}),r}_findMatches({key:t,value:s,searcher:n}){if(!ve(s))return[];let i=[];if(Ae(s))s.forEach(({v:r,i:o,n:a})=>{if(!ve(r))return;const{isMatch:l,score:h,indices:c}=n.searchIn(r);l&&i.push({score:h,key:t,value:r,idx:o,norm:a,indices:c})});else{const{v:r,n:o}=s,{isMatch:a,score:l,indices:h}=n.searchIn(r);a&&i.push({score:l,key:t,value:r,norm:o,indices:h})}return i}}Je.version="7.0.0";Je.createIndex=Ys;Je.parseIndex=Ai;Je.config=$;Je.parseQuery=Js;Yi(Wi);const to={key:0},so={key:1},no={key:2},ro={key:3},io={key:4},oo={key:5},ao={key:6},lo={key:7},uo={key:8},co={key:9},ho={key:10},fo=Q({__name:"title-renderer",props:{no:{}},setup(e){const t=e,{$page:s}=tr(),n=P(()=>+(t.no??s.value));return(i,r)=>(f(),w("div",null,[n.value===1?(f(),w("p",to,"Branded Types in TypeScript")):n.value===2?(f(),w("p",so,"What are Branded Types?")):n.value===3?(f(),w("p",no,"Why Use Branded Types?")):n.value===4?(f(),w("p",ro,"Basic Example: User ID")):n.value===5?(f(),w("p",io,"Benefits of Branded Types")):n.value===6?(f(),w("p",oo,"Going Generic")):n.value===7?(f(),w("p",ao,"Type Guards with Branded Types")):n.value===8?(f(),w("p",lo,"Type Assertions with Branded Types")):n.value===9?(f(),w("p",uo,"Type Assertions with Branded Types")):n.value===10?(f(),w("p",co,"Best Practices")):n.value===11?(f(),w("p",ho,"Questions?")):S("v-if",!0)]))}}),vo={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},po=["value","disabled"],go={table:"","w-full":"","border-collapse":""},mo=["border","onClick"],_o={"text-right":"",op50:"","text-sm":"","table-cell":"","py-2":"","pl-4":"","pr-3":"","vertical-middle":""},yo=Q({__name:"Goto",setup(e){const t=j(),s=j(),n=j(),i=j(),r=j(""),o=j(0),{go:a,slides:l}=ye();function h(y){return y!=null}const c=P(()=>new Je(l.value.map(y=>{var O;return(O=y.meta)==null?void 0:O.slide}).filter(h),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),d=P(()=>r.value.startsWith("/")?r.value.substring(1):r.value),v=P(()=>c.value.search(d.value).map(y=>y.item)),m=P(()=>!!v.value.length);function p(){if(m.value){const y=v.value.at(o.value||0);y&&a(y.no)}g()}function g(){r.value="",De.value=!1}function k(y){y.preventDefault(),o.value++,o.value>=v.value.length&&(o.value=0),b()}function _(y){y.preventDefault(),o.value--,o.value<=-2&&(o.value=v.value.length-1),b()}function b(){var O;const y=(O=i.value)==null?void 0:O[o.value];y&&n.value&&(y.offsetTop+y.offsetHeight>n.value.offsetHeight+n.value.scrollTop?n.value.scrollTo({behavior:"smooth",top:y.offsetTop+y.offsetHeight-n.value.offsetHeight+1}):y.offsetTop<n.value.scrollTop&&n.value.scrollTo({behavior:"smooth",top:y.offsetTop}))}function x(y){o.value=0,r.value=y.target.value}function A(y){a(y),g()}return at(De,async y=>{var O;y?(r.value="",o.value=0,setTimeout(()=>{var T;return(T=s.value)==null?void 0:T.focus()},0)):(O=s.value)==null||O.blur()}),at(it,()=>{var y;(y=t.value)!=null&&y.contains(it.value)||g()}),(y,O)=>(f(),w("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:Z(["fixed right-5 transition-all",u(De)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[E("div",vo,[E("input",{id:"slidev-goto-input",ref_key:"input",ref:s,value:r.value,type:"text",disabled:!u(De),class:Z(["outline-none bg-transparent",{"text-red-400":!m.value&&r.value}]),placeholder:"Goto...",onKeydown:[vt(p,["enter"]),vt(g,["escape"]),vt(k,["down"]),vt(_,["up"])],onInput:x},null,42,po)]),v.value.length>0?(f(),w("div",{key:0,ref_key:"list",ref:n,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[E("ul",go,[(f(!0),w(Y,null,dt(v.value,(T,U)=>(f(),w("li",{ref_for:!0,ref_key:"items",ref:i,key:T.id,role:"button",tabindex:"0","cursor-pointer":"",hover:"op100","table-row":"","items-center":"",border:U===0?void 0:"t main",class:Z(o.value===U?"bg-active op100":"op80"),onClick:ws(D=>A(T.no),["stop","prevent"])},[E("div",_o,pe(T.no),1),N(u(fo),{"table-cell":"","py-2":"","pr-4":"","w-full":"",no:T.no},null,8,["no"])],10,mo))),128))])],512)):S("v-if",!0)],2))}}),xo=Xe(yo,[["__scopeId","data-v-047f773f"]]),bo=[];let Rt;const wo=()=>{if(Rt)return Rt;const{next:e,nextSlide:t,prev:s,prevSlide:n,hasNext:i,hasPrev:r,currentPage:o,total:a,isPresenter:l,enterPresenter:h,exitPresenter:c,isEmbedded:d,isPresenterAvailable:v}=ye(),{drawingEnabled:m}=Ze(),{isFullscreen:p,toggle:g}=Zt;return Rt=bo.reduce((k,_)=>_(k),P(()=>[{small:!0,icon:Is,label:"Previous Click",action:s,disabled:!r.value},{small:!0,icon:Ls,label:"Next Click",action:e,disabled:!i.value},{small:!0,icon:Kn,label:"Previous Slide",action:n,disabled:o.value<=1},{small:!0,icon:Hn,label:"Next Slide",action:t,disabled:o.value>=a.value},"separator",{icon:Gn,label:We.value?"Hide editor":"Show editor",action:()=>We.value=!We.value},{icon:Un,label:m.value?"Hide drawing toolbar":"Show drawing toolbar",action:()=>m.value=!m.value},{icon:Ns,label:"Show slide overview",action:wt},l.value&&{icon:As,label:"Exit Presenter Mode",action:c},!1,!d.value&&{icon:p.value?Rs:Ts,label:p.value?"Close fullscreen":"Enter fullscreen",action:g}].filter(Boolean)))},Ge=je(null);function ko(e,t){Ge.value={x:e,y:t,items:wo()}}function nt(){Ge.value=null}function So(e){if(ge.contextMenu!==!0&&ge.contextMenu!==void 0&&ge.contextMenu!==Tn||e.shiftKey||e.defaultPrevented)return;const{isEmbedded:t}=ye();t.value||(ko(e.pageX,e.pageY),e.preventDefault(),e.stopPropagation())}const Mo=["title","onClick"],Eo=["onClick"],$o={class:"mx-auto"},Po={key:0},Co=E("div",{class:"w-full my1 border-t border-main"},null,-1),Io={class:"w-full text-xs p2"},Lo={class:"text-main text-opacity-50!"},No=E("kbd",{class:"border px1 py0.5 border-main rounded text-primary"},"Shift",-1),Ao=Q({__name:"ContextMenu",setup(e){const t=j();ks(t,nt),xs(document,"mousedown",l=>{l.buttons&2&&nt()},{passive:!0,capture:!0});const s=P(()=>ge.contextMenu!=null),n=vn();at(n,l=>{l||nt()}),rr(1);const{width:i,height:r}=pn(t),o=P(()=>{var h;const l=(h=Ge.value)==null?void 0:h.x;return l?l+i.value>Fe.width.value?Fe.width.value-i.value:l:0}),a=P(()=>{var h;const l=(h=Ge.value)==null?void 0:h.y;return l?l+r.value>Fe.height.value?Fe.height.value-r.value:l:0});return(l,h)=>u(Ge)?(f(),w("div",{key:0,ref_key:"container",ref:t,style:Ne(`left:${o.value}px;top:${a.value}px`),class:"fixed z-100 w-60 flex flex-wrap justify-items-start p-1 animate-fade-in animate-duration-100 backdrop-blur bg-main bg-opacity-75! border border-main rounded-md shadow overflow-hidden select-none",onContextmenu:h[1]||(h[1]=ws(()=>{},["prevent"])),onClick:h[2]||(h[2]=(...c)=>u(nt)&&u(nt)(...c))},[(f(!0),w(Y,null,dt(u(Ge).items.value,(c,d)=>(f(),w(Y,{key:d},[c==="separator"?(f(),w("div",{key:d,class:"w-full my1 border-t border-main"})):c.small?(f(),w("div",{key:1,class:Z(["p-2 w-[40px] h-[40px] inline-block text-center cursor-pointer rounded",c.disabled?"op40":"hover:bg-active"]),title:c.label,onClick:c.action},[(f(),L(Ue(c.icon)))],10,Mo)):(f(),w("div",{key:2,class:Z(["w-full grid grid-cols-[35px_1fr] p-2 pl-0 cursor-pointer rounded",c.disabled?"op40":"hover:bg-active"]),onClick:c.action},[E("div",$o,[(f(),L(Ue(c.icon)))]),typeof c.label=="string"?(f(),w("div",Po,pe(c.label),1)):(f(),L(Ue(c.label),{key:1}))],10,Eo))],64))),128)),s.value?S("v-if",!0):(f(),w(Y,{key:0},[Co,E("div",Io,[E("div",Lo,[Ke(" Hold "),No,Ke(" and right click to open the native context menu "),S("v-if",!0)])])],64))],36)):S("v-if",!0)}}),Ro=Q({__name:"Controls",setup(e){ye();const t=!1,s=je(),n=je(),i=je();return(r,o)=>(f(),w(Y,null,[u(t)&&s.value?(f(),L(u(s),{key:0})):S("v-if",!0),N(ai),N(xo),n.value?(f(),L(u(n),{key:1})):S("v-if",!0),i.value?(f(),L(u(i),{key:2,modelValue:u(Ct),"onUpdate:modelValue":o[0]||(o[0]=a=>ut(Ct)?Ct.value=a:null)},null,8,["modelValue"])):S("v-if",!0),u(ge).info?(f(),L(vi,{key:3,modelValue:u(ot),"onUpdate:modelValue":o[1]||(o[1]=a=>ut(ot)?ot.value=a:null)},null,8,["modelValue"])):S("v-if",!0),N(Ao)],64))}}),To={class:"select-list"},Do={class:"title"},Fo={class:"items"},Oo=["onClick"],Vo=Q({__name:"SelectList",props:{modelValue:{type:[Object,String,Number,Boolean]},title:{type:String},items:{type:Array}},setup(e,{emit:t}){const i=Et(e,"modelValue",t,{passive:!0});return(r,o)=>{const a=Wn;return f(),w("div",To,[E("div",Do,pe(e.title),1),E("div",Fo,[(f(!0),w(Y,null,dt(e.items,l=>(f(),w("div",{key:l.value,class:Z(["item",{active:u(i)===l.value}]),onClick:()=>{var h;i.value=l.value,(h=l.onClick)==null||h.call(l)}},[N(a,{class:Z(["text-green-500",{"opacity-0":u(i)!==l.value}])},null,8,["class"]),Ke(" "+pe(l.display||l.value),1)],10,Oo))),128))])])}}}),ys=Xe(Vo,[["__scopeId","data-v-20522bb9"]]),zo={class:"text-sm select-none"},Bo=Q({__name:"Settings",setup(e){const t=[{display:"Fit",value:0},{display:"1:1",value:1}],{isSupported:s}=Ss(),n=[{display:"Enabled",value:!0},{display:"Disabled",value:!1}];return(i,r)=>(f(),w("div",zo,[N(ys,{modelValue:u(rt),"onUpdate:modelValue":r[0]||(r[0]=o=>ut(rt)?rt.value=o:null),title:"Scale",items:t},null,8,["modelValue"]),u(s)?(f(),L(ys,{key:0,modelValue:u(yt),"onUpdate:modelValue":r[1]||(r[1]=o=>ut(yt)?yt.value=o:null),title:"Wake lock",items:n},null,8,["modelValue"])):S("v-if",!0)]))}}),jo={key:0,class:"rounded-md bg-main text-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ main"},Ko=Q({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const i=Et(e,"modelValue",t,{passive:!0}),r=j();return ks(r,()=>{i.value=!1}),(o,a)=>(f(),w("div",{ref_key:"el",ref:r,class:"flex relative"},[E("button",{class:Z({disabled:e.disabled}),onClick:a[0]||(a[0]=l=>i.value=!u(i))},[Ye(o.$slots,"button",{class:Z({disabled:e.disabled})})],2),(f(),L(bs,null,[u(i)?(f(),w("div",jo,[Ye(o.$slots,"menu")])):S("v-if",!0)],1024))],512))}}),Ho={},Go={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function Uo(e,t){return f(),w("div",Go)}const Tt=Xe(Ho,[["render",Uo]]),Wo={render:()=>[]},Yo={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Xo={class:"my-auto"},Qo={class:"opacity-50"},Zo=Q({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,{currentSlideNo:s,hasNext:n,hasPrev:i,isEmbedded:r,isPresenter:o,isPresenterAvailable:a,next:l,prev:h,total:c,enterPresenter:d,exitPresenter:v}=ye();Ze();const m=zt.smaller("md"),{isFullscreen:p,toggle:g}=Zt,k=j();function _(){k.value&&it.value&&k.value.contains(it.value)&&it.value.blur()}const b=P(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-main"),x=je();return(A,y)=>{const O=Rs,T=Ts,U=Is,D=Ls,te=Ns,F=Yn,se=Xn,ce=Ds,z=Qn,re=As,ae=Zn,I=Jn,H=qn,V=er;return f(),w("nav",{ref_key:"root",ref:k,class:"flex flex-col"},[E("div",{class:Z(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",b.value]),onMouseleave:_},[u(r)?S("v-if",!0):(f(),L(me,{key:0,title:u(p)?"Close fullscreen":"Enter fullscreen",onClick:u(g)},{default:W(()=>[u(p)?(f(),L(O,{key:0})):(f(),L(T,{key:1}))]),_:1},8,["title","onClick"])),N(me,{class:Z({disabled:!u(i)}),title:"Go to previous slide",onClick:u(h)},{default:W(()=>[N(U)]),_:1},8,["class","onClick"]),N(me,{class:Z({disabled:!u(n)}),title:"Go to next slide",onClick:u(l)},{default:W(()=>[N(D)]),_:1},8,["class","onClick"]),u(r)?S("v-if",!0):(f(),L(me,{key:1,title:"Show slide overview",onClick:y[0]||(y[0]=B=>u(wt)())},{default:W(()=>[N(te)]),_:1})),u(Dn)?S("v-if",!0):(f(),L(me,{key:2,title:u(ss)?"Switch to light mode theme":"Switch to dark mode theme",onClick:y[1]||(y[1]=B=>u(Vt)())},{default:W(()=>[u(ss)?(f(),L(F,{key:0})):(f(),L(se,{key:1}))]),_:1},8,["title"])),N(Tt),u(r)?S("v-if",!0):(f(),w(Y,{key:3},[!u(o)&&!u(m)&&x.value?(f(),w(Y,{key:0},[N(u(x)),N(Tt)],64)):S("v-if",!0),u(o)?(f(),L(me,{key:1,title:u(gt)?"Hide presenter cursor":"Show presenter cursor",onClick:y[2]||(y[2]=B=>gt.value=!u(gt))},{default:W(()=>[u(gt)?(f(),L(ce,{key:0})):(f(),L(z,{key:1}))]),_:1},8,["title"])):S("v-if",!0)],64)),S("v-if",!0),u(r)?S("v-if",!0):(f(),w(Y,{key:5},[u(o)?(f(),L(me,{key:0,title:"Play Mode",onClick:u(v)},{default:W(()=>[N(re)]),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),S("v-if",!0),u(o)?(f(),L(me,{key:3,title:"Toggle Presenter Layout",class:"aspect-ratio-initial",onClick:u(On)},{default:W(()=>[N(ae),Ke(" "+pe(u(Fn)),1)]),_:1},8,["onClick"])):S("v-if",!0)],64)),(f(),w(Y,{key:6},[u(ge).download?(f(),L(me,{key:0,title:"Download as PDF",onClick:u(Es)},{default:W(()=>[N(I)]),_:1},8,["onClick"])):S("v-if",!0)],64)),!u(o)&&u(ge).info&&!u(r)?(f(),L(me,{key:7,title:"Show info",onClick:y[5]||(y[5]=B=>ot.value=!u(ot))},{default:W(()=>[N(H)]),_:1})):S("v-if",!0),!u(o)&&!u(r)?(f(),L(Ko,{key:8},{button:W(()=>[N(me,{title:"Adjust settings"},{default:W(()=>[N(V)]),_:1})]),menu:W(()=>[N(Bo)]),_:1})):S("v-if",!0),u(r)?S("v-if",!0):(f(),L(Tt,{key:9})),E("div",Yo,[E("div",Xo,[Ke(pe(u(s))+" ",1),E("span",Qo,"/ "+pe(u(c)),1)])]),N(u(Wo))],34)],512)}}});function Jo(){const e=gn(),t=j(!1);let s,n;const i=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((r,o)=>{var g,k,_,b;const a=(g=Ft(o.params.no))==null?void 0:g.meta,l=(k=Ft(r.params.no))==null?void 0:k.meta,h=(_=a==null?void 0:a.slide)==null?void 0:_.no,c=(b=l==null?void 0:l.slide)==null?void 0:b.no;if((h!=null&&c!=null&&((h<c?a==null?void 0:a.transition:l==null?void 0:l.transition)??ge.transition))!=="view-transition"){t.value=!1;return}if(!i){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const v=new Promise((x,A)=>{s=x,n=A});let m;const p=new Promise(x=>m=x);return setTimeout(()=>{document.startViewTransition(()=>(m(),v))},50),p}),i&&e.afterEach(()=>{s==null||s(),n==null||n()}),t}const qo=["data-drag-id"],xe=10,Re=10,Dt="absolute border border-gray bg-gray dark:border-gray-500 dark:bg-gray-800 bg-opacity-30 ",_t=20,ea=Q({__name:"DragControl",props:{data:{}},setup(e){const{data:t}=e,{dragId:s,zoom:n,autoHeight:i,x0:r,y0:o,width:a,height:l,rotate:h,isArrow:c}=t,d=mn($s,j(1)),v=P(()=>d.value*n.value),{left:m,top:p}=Vn(),g=c?Number.NEGATIVE_INFINITY:40,k=P(()=>h.value*Math.PI/180),_=P(()=>Math.sin(k.value)),b=P(()=>Math.cos(k.value)),x=P(()=>a.value*b.value+l.value*_.value),A=P(()=>a.value*_.value+l.value*b.value),y=P(()=>r.value-x.value/2),O=P(()=>o.value-A.value/2),T=P(()=>r.value+x.value/2),U=P(()=>o.value+A.value/2),D=P(()=>c&&a.value<0),te=P(()=>c&&l.value<0);let F=null;function se(M){if(M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const K=M.target.getBoundingClientRect(),C=a.value*b.value-l.value*_.value,R=a.value*_.value+l.value*b.value,J=a.value*b.value+l.value*_.value,ie=-a.value*_.value+l.value*b.value;F={x0:r.value,y0:o.value,width:a.value,height:l.value,rotate:h.value,dx0:M.clientX-(K.left+K.right)/2,dy0:M.clientY-(K.top+K.bottom)/2,ltx:r.value-C/2,lty:o.value-R/2,rtx:r.value+J/2,rty:o.value-ie/2,lbx:r.value-J/2,lby:o.value+ie/2,rbx:r.value+C/2,rby:o.value+R/2},M.currentTarget.setPointerCapture(M.pointerId)}function ce(M){if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const G=(M.clientX-m.value-F.dx0)/v.value,K=(M.clientY-p.value-F.dy0)/v.value;r.value=ns(G,-x.value/2+Re,ct.value+x.value/2-Re),o.value=ns(K,-A.value/2+Re,ht.value+A.value/2-Re)}function z(M){F&&(M.preventDefault(),M.stopPropagation(),F=null)}function re(M,G){return{onPointerdown:se,onPointermove:K=>{if(!F||K.buttons!==1)return;K.preventDefault(),K.stopPropagation();let C=(K.clientX-m.value)/v.value,R=(K.clientY-p.value)/v.value;const{ltx:J,lty:ie,rtx:q,rty:he,lbx:le,lby:$e,rbx:Pe,rby:ee}=F,oe=F.width/F.height,qs=Math.max(g,g*oe);function ft(Se,Me){if(K.shiftKey){const ue=Math.max(Se,Me*oe,qs),de=ue/oe;return{w:ue,h:de}}else return{w:Math.max(Se,g),h:Math.max(Me,g)}}if(M)if(G){const Se=(Pe-C)*b.value+(ee-R)*_.value,Me=-(Pe-C)*_.value+(ee-R)*b.value,{w:ue,h:de}=ft(Se,Me);C=Pe-ue*b.value+de*_.value,R=ee-ue*_.value-de*b.value}else{const Se=(q-C)*b.value-(R-he)*_.value,Me=(q-C)*_.value+(R-he)*b.value,{w:ue,h:de}=ft(Se,Me);C=q-ue*b.value-de*_.value,R=he-ue*_.value+de*b.value}else if(G){const Se=(C-le)*b.value-($e-R)*_.value,Me=(C-le)*_.value+($e-R)*b.value,{w:ue,h:de}=ft(Se,Me);C=le+ue*b.value+de*_.value,R=$e+ue*_.value-de*b.value}else{const Se=(C-J)*b.value+(R-ie)*_.value,Me=-(C-J)*_.value+(R-ie)*b.value,{w:ue,h:de}=ft(Se,Me);C=J+ue*b.value-de*_.value,R=ie+ue*_.value+de*b.value}M?G?(r.value=(C+Pe)/2,o.value=(R+ee)/2,a.value=(Pe-C)*b.value+(ee-R)*_.value,l.value=-(Pe-C)*_.value+(ee-R)*b.value):(r.value=(C+q)/2,o.value=(R+he)/2,a.value=(q-C)*b.value-(R-he)*_.value,l.value=(q-C)*_.value+(R-he)*b.value):G?(r.value=(C+le)/2,o.value=(R+$e)/2,a.value=(C-le)*b.value-($e-R)*_.value,l.value=(C-le)*_.value+($e-R)*b.value):(r.value=(C+J)/2,o.value=(R+ie)/2,a.value=(C-J)*b.value+(R-ie)*_.value,l.value=-(C-J)*_.value+(R-ie)*b.value)},onPointerup:z,style:{width:`${xe}px`,height:`${xe}px`,margin:`-${xe/2}px`,left:M!==D.value?"0":void 0,right:M!==D.value?void 0:"0",top:G!==te.value?"0":void 0,bottom:G!==te.value?void 0:"0",cursor:c?"move":+M+ +G==1?"nesw-resize":"nwse-resize",borderRadius:c?"50%":void 0},class:Dt}}function ae(M){return{onPointerdown:se,onPointermove:G=>{if(!F||G.buttons!==1)return;G.preventDefault(),G.stopPropagation();const K=(G.clientX-m.value)/v.value,C=(G.clientY-p.value)/v.value,{ltx:R,lty:J,rtx:ie,rty:q,lbx:he,lby:le,rbx:$e,rby:Pe}=F;if(M==="l"){const ee=(ie+$e)/2,oe=(q+Pe)/2;a.value=Math.max((ee-K)*b.value+(oe-C)*_.value,g),r.value=ee-a.value*b.value/2,o.value=oe-a.value*_.value/2}else if(M==="r"){const ee=(R+he)/2,oe=(J+le)/2;a.value=Math.max((K-ee)*b.value+(C-oe)*_.value,g),r.value=ee+a.value*b.value/2,o.value=oe+a.value*_.value/2}else if(M==="t"){const ee=(he+$e)/2,oe=(le+Pe)/2;l.value=Math.max((oe-C)*b.value-(ee-K)*_.value,g),r.value=ee+l.value*_.value/2,o.value=oe-l.value*b.value/2}else if(M==="b"){const ee=(R+ie)/2,oe=(J+q)/2;l.value=Math.max((C-oe)*b.value-(K-ee)*_.value,g),r.value=ee-l.value*_.value/2,o.value=oe+l.value*b.value/2}},onPointerup:z,style:{width:`${xe}px`,height:`${xe}px`,margin:`-${xe/2}px`,left:M==="l"?"0":M==="r"?"100%":"50%",top:M==="t"?"0":M==="b"?"100%":"50%",cursor:"lr".includes(M)?"ew-resize":"ns-resize",borderRadius:"50%"},class:Dt}}function I(){return{onPointerdown:se,onPointermove:M=>{if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const G=(M.clientX-m.value-F.dx0)/v.value-xe/4,K=(M.clientY-p.value-F.dy0)/v.value-xe/4;let C=Math.atan2(K-o.value,G-r.value)*180/Math.PI+90;const R=[0,90,180,270,360];for(const J of R)if(Math.abs(C-J)<5){C=J%360;break}h.value=C},onPointerup:z,style:{width:`${xe}px`,height:`${xe}px`,margin:`-${xe/2}px`,left:"50%",top:"-20px",cursor:"grab",borderRadius:"50%"},class:Dt}}const H={immediate:!1,immediateCallback:!1},V=pt(()=>{T.value<=Re||r.value--},_t,H),B=pt(()=>{y.value>=ct.value-Re||r.value++},_t,H),qe=pt(()=>{U.value<=Re||o.value--},_t,H),Ve=pt(()=>{O.value>=ht.value-Re||o.value++},_t,H);return lt(()=>{function M(G,K){Qt[G].value?K.resume():K.pause()}M("left",V),M("right",B),M("up",qe),M("down",Ve)}),(M,G)=>Number.isFinite(u(r))?(f(),w("div",{key:0,id:"drag-control-container","data-drag-id":u(s),style:Ne({position:"absolute",zIndex:100,left:`${u(n)*(u(r)-Math.abs(u(a))/2)}px`,top:`${u(n)*(u(o)-Math.abs(u(l))/2)}px`,width:`${u(n)*Math.abs(u(a))}px`,height:`${u(n)*Math.abs(u(l))}px`,transformOrigin:"center center",transform:`rotate(${u(h)}deg)`}),onPointerdown:se,onPointermove:ce,onPointerup:z},[E("div",{class:Z(["absolute inset-0 z-100 dark:b-gray-400",u(c)?"":"b b-dark"])},[u(i)?S("v-if",!0):(f(),w(Y,{key:0},[E("div",Ce(Ie(re(!0,!0))),null,16),E("div",Ce(Ie(re(!1,!1))),null,16),u(c)?S("v-if",!0):(f(),w(Y,{key:0},[E("div",Ce(Ie(re(!0,!1))),null,16),E("div",Ce(Ie(re(!1,!0))),null,16)],64))],64)),u(c)?S("v-if",!0):(f(),w(Y,{key:1},[E("div",Ce(Ie(ae("l"))),null,16),E("div",Ce(Ie(ae("r"))),null,16),u(i)?S("v-if",!0):(f(),w(Y,{key:0},[E("div",Ce(Ie(ae("t"))),null,16),E("div",Ce(Ie(ae("b"))),null,16)],64)),E("div",Ce(Ie(I())),null,16),E("div",{class:"absolute -top-15px w-0 b b-dashed b-dark dark:b-gray-400",style:Ne({left:"calc(50% - 1px)",height:u(i)?"14px":"10px"})},null,4)],64))],2)],44,qo)):S("v-if",!0)}}),ta=Q({__name:"SlidesShow",props:{renderContext:{}},setup(e){const{currentSlideRoute:t,currentTransition:s,getPrimaryClicks:n,prevRoute:i,nextRoute:r,slides:o,isPrintMode:a,isPrintWithClicks:l,clicksDirection:h}=ye();function c(p){p.meta.preload!==!1&&(p.meta.__preloaded=!0,p.load())}lt(()=>{c(t.value),c(i.value),c(r.value)}),lt(p=>{const g=o.value,k=setTimeout(()=>{g.forEach(c)},3e3);p(()=>clearTimeout(k))});const d=Jo();je();const v=P(()=>o.value.filter(p=>{var g;return((g=p.meta)==null?void 0:g.__preloaded)||p===t.value}));function m(){rs.value=!0,sr()}return(p,g)=>(f(),w(Y,null,[S(" Global Bottom "),N(u(Yr)),S(" Slides "),(f(),L(Ue(u(d)?"div":yn),_n(u(rs)?{}:u(s),{id:"slideshow",tag:"div",class:{"slidev-nav-go-forward":u(h)>0,"slidev-nav-go-backward":u(h)<0},onAfterLeave:m}),{default:W(()=>[(f(!0),w(Y,null,dt(v.value,k=>(f(),w(Y,{key:k.no},[Math.abs(k.no-u(t).no)<=20?xn((f(),L(Ks,{key:0,"clicks-context":u(a)&&!u(l)?u(Ps)(k,u(Cs)):u(n)(k),route:k,"render-context":p.renderContext},null,8,["clicks-context","route","render-context"])),[[bn,k===u(t)]]):S("v-if",!0)],64))),128))]),_:1},16,["class"])),u(Ot)?(f(),L(ea,{key:0,data:u(Ot)},null,8,["data"])):S("v-if",!0),S(" Global Top "),N(u(Wr)),S("v-if",!0)],64))}}),sa=Xe(ta,[["__scopeId","data-v-841994d6"]]),na=Q({__name:"PrintStyle",setup(e){function t(s,{slots:n}){if(n.default)return wn("style",n.default())}return(s,n)=>(f(),L(t,null,{default:W(()=>[Ke(" @page { size: "+pe(u(ct))+"px "+pe(u(ht))+"px; margin: 0px; } ",1)]),_:1}))}});function ra(){const{request:e,release:t}=Ss();lt(s=>{yt.value&&e("screen"),s(t)})}const ia={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},oa=Q({__name:"PresenterMouse",setup(e){return(t,s)=>{const n=Ds;return u(It).cursor?(f(),w("div",ia,[N(n,{class:"absolute stroke-white dark:stroke-black",style:Ne({left:`${u(It).cursor.x}%`,top:`${u(It).cursor.y}%`,strokeWidth:16})},null,8,["style"])])):S("v-if",!0)}}}),aa=E("div",{id:"twoslash-container"},null,-1),fa=Q({__name:"play",setup(e){const{next:t,prev:s,isPrintMode:n}=ye(),{isDrawing:i}=Ze(),r=j();function o(h){var c;We.value||h.button===0&&((c=h.target)==null?void 0:c.id)==="slide-container"&&(h.pageX/window.innerWidth>.5?t():s())}Rr(r),Kr(),ra();const a=P(()=>zn.value||We.value),l=je();return(h,c)=>(f(),w(Y,null,[u(n)?(f(),L(na,{key:0})):S("v-if",!0),E("div",{id:"page-root",ref_key:"root",ref:r,class:Z(["grid",u(Bn)?"grid-rows-[1fr_max-content]":"grid-cols-[1fr_max-content]"])},[N(js,{style:{background:"var(--slidev-slide-container-background, black)"},width:u(n)?u(Fe).width.value:void 0,"is-main":"",onPointerdown:o,onContextmenu:u(So)},{default:W(()=>[N(sa,{"render-context":"slide"}),N(oa)]),controls:W(()=>[u(n)?S("v-if",!0):(f(),w("div",{key:0,class:Z(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[a.value?"!opacity-100 right-0":"opacity-0 p-2",u(i)?"pointer-events-none":""]])},[N(Zo,{persist:a.value},null,8,["persist"])],2))]),_:1},8,["width","onContextmenu"]),l.value&&u(We)?(f(),L(u(l),{key:0,resize:!0})):S("v-if",!0)],2),u(n)?S("v-if",!0):(f(),L(Ro,{key:1})),aa],64))}});export{fa as default};
