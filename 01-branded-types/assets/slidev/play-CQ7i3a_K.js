import{z as $,B as l,t as z,a0 as fn,Y as Vt,ac as vn,P as Ds,y as pn,n as mn,E as Ye,ad as as,ae as gn,af as yn,ag as Vs,Q as We,d as X,a6 as Fs,a7 as xn,a5 as _n,o as h,b,F as U,ah as pt,i as Q,c as R,ai as Be,e as w,x as me,aj as Xe,g as S,h as ge,ak as Os,j as yt,l as P,al as ls,f as ze,am as Bs,k as N,an as Je,ao as bn,a3 as wn,ap as Fe,aq as kn,D as Pt,ar as Sn,as as ft,at as zs,au as js,av as Ks,aw as Mn,ax as fs,m as Yt,S as $n,C as En,ay as xt,q as Le,s as Ne,az as Pn,aA as J,aB as we,aC as Cn,aD as In}from"../modules/vue-DFd5gVHI.js";import{g as Ct,u as ce,c as ye,d as Ft,p as vs,o as Rn,i as Hs,h as St,w as Mt,s as qe,t as It,f as us,m as Ln,a as Ge,b as Oe,e as ct,_ as mt,j as Nn,k as et,r as An,l as Tn,n as ps,q as dt,v as Rt,x as Lt,y as vt,z as Us,A as Dn,B as Vn,C as Fn,D as On,E as Bn,F as zn,G as jn,H as Kn,I as Xt,J as ve,K as Gs,L as Ws,M as Ot,N as ht,O as A,P as Z,Q as Hn,R as Qt,S as _t,T as Ys,U as Un,V as Gn,W as Wn,X as Bt,Y as Yn,Z as ms,$ as cs,a0 as zt,a1 as gs,a2 as Zt,a3 as Xn,a4 as Qn,a5 as Zn,a6 as Jn}from"../index-Dg6NY810.js";import{u as qn}from"./context-DeVZCYnQ.js";import{_ as er,a as tr,b as Xs,c as sr}from"../modules/unplugin-icons-CiWj7eYr.js";import{V as nr,t as rr}from"../modules/shiki-B9XamwJ8.js";function or(e){var t;return{info:z(((t=Ct(e))==null?void 0:t.meta.slide)??null),update:async()=>{}}}const jt={};function ir(e){function t(s){return jt[s]??(jt[s]=or(s))}return{info:$({get(){return t(l(e)).info.value},set(s){t(l(e)).info.value=s}}),update:async(s,r)=>{const n=t(r??l(e)),o=await n.update(s);return o&&(n.info.value=o),o}}}var ar=Object.defineProperty,ys=Object.getOwnPropertySymbols,lr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable,xs=(e,t,s)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Jt=(e,t)=>{for(var s in t||(t={}))lr.call(t,s)&&xs(e,s,t[s]);if(ys)for(var s of ys(t))ur.call(t,s)&&xs(e,s,t[s]);return e},cr=()=>({emit(e,...t){for(let s=this.events[e]||[],r=0,n=s.length;r<n;r++)s[r](...t)},events:{},on(e,t){var s;return((s=this.events)[e]||(s[e]=[])).push(t),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(n=>t!==n)}}});function Nt(e,t){return e-t}function dr(e){return e<0?-1:1}function At(e){return[Math.abs(e),dr(e)]}function Qs(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var hr=2,Te=hr;function Zs(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker"),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("fill",t),r.setAttribute("id",e),r.setAttribute("viewBox","0 -5 10 10"),r.setAttribute("refX","5"),r.setAttribute("refY","0"),r.setAttribute("markerWidth","4"),r.setAttribute("markerHeight","4"),r.setAttribute("orient","auto"),n.setAttribute("d","M0,-5L10,0L0,5"),r.appendChild(n),s.appendChild(r),s}function fr(e,t){const s=e.x-t.x,r=e.y-t.y;return s*s+r*r}function vr(e,t,s){let r=t.x,n=t.y,o=s.x-r,i=s.y-n;if(o!==0||i!==0){const a=((e.x-r)*o+(e.y-n)*i)/(o*o+i*i);a>1?(r=s.x,n=s.y):a>0&&(r+=o*a,n+=i*a)}return o=e.x-r,i=e.y-n,o*o+i*i}function pr(e,t){let s=e[0];const r=[s];let n;for(let o=1,i=e.length;o<i;o++)n=e[o],fr(n,s)>t&&(r.push(n),s=n);return s!==n&&n&&r.push(n),r}function qt(e,t,s,r,n){let o=r,i=0;for(let a=t+1;a<s;a++){const u=vr(e[a],e[t],e[s]);u>o&&(i=a,o=u)}o>r&&(i-t>1&&qt(e,t,i,r,n),n.push(e[i]),s-i>1&&qt(e,i,s,r,n))}function mr(e,t){const s=e.length-1,r=[e[0]];return qt(e,0,s,t,r),r.push(e[s]),r}function _s(e,t,s=!1){if(e.length<=2)return e;const r=t*t;return e=s?e:pr(e,r),e=mr(e,r),e}var tt=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,s,r;const n=this.drauu.el,o=(t=this.drauu.options.coordinateScale)!=null?t:1,i=(s=this.drauu.options.offset)!=null?s:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const a=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-a.left+i.x)*o,y:(e.pageY-a.top+i.y)*o,pressure:e.pressure}}else{const a=this.drauu.svgPoint;a.x=e.clientX+i.x,a.y=e.clientY+i.y;const u=a.matrixTransform((r=n.getScreenCTM())==null?void 0:r.inverse());return{x:u.x*o,y:u.y*o,pressure:e.pressure}}}createElement(e,t){var s;const r=document.createElementNS("http://www.w3.org/2000/svg",e),n=t?Jt(Jt({},this.brush),t):this.brush;return r.setAttribute("fill",(s=n.fill)!=null?s:"transparent"),r.setAttribute("stroke",n.color),r.setAttribute("stroke-width",n.size.toString()),r.setAttribute("stroke-linecap","round"),n.dasharray&&r.setAttribute("stroke-dasharray",n.dasharray),r}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(Te))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},gr=class He extends tt{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Qs();const s=Zs(this.arrowId,this.brush.color);this.el.appendChild(s)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=_s(this.points,1,!0),this.count=0),this.attr("d",He.toSvgData(this.points)),!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;if(t.setAttribute("d",He.toSvgData(_s(this.points,1,!0))),!t.getTotalLength()){const{x:s,y:r}=this.points[0],n=this.brush.size/2;t.setAttribute("d",`M ${s-n} ${r} a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 ${-n*2},0`),t.setAttribute("fill",this.brush.color),t.setAttribute("stroke-width","0")}return!0}static line(t,s){const r=s.x-t.x,n=s.y-t.y;return{length:Math.sqrt(r**2+n**2),angle:Math.atan2(n,r)}}static controlPoint(t,s,r,n){const o=s||t,i=r||t,a=.2,u=He.line(o,i),c=u.angle+(n?Math.PI:0),d=u.length*a,f=t.x+Math.cos(c)*d,v=t.y+Math.sin(c)*d;return{x:f,y:v}}static bezierCommand(t,s,r){const n=He.controlPoint(r[s-1],r[s-2],t),o=He.controlPoint(t,r[s-1],r[s+1],!0);return`C ${n.x.toFixed(Te)},${n.y.toFixed(Te)} ${o.x.toFixed(Te)},${o.y.toFixed(Te)} ${t.x.toFixed(Te)},${t.y.toFixed(Te)}`}static toSvgData(t){return t.reduce((s,r,n,o)=>n===0?`M ${r.x.toFixed(Te)},${r.y.toFixed(Te)}`:`${s} ${He.bezierCommand(r,n,o)}`,"")}},yr=class extends tt{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=At(e.x-this.start.x),[r,n]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,r);t=o,r=o}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",r);else{const[o,i]=[this.start.x,this.start.x+t*s].sort(Nt),[a,u]=[this.start.y,this.start.y+r*n].sort(Nt);this.attr("cx",(o+i)/2),this.attr("cy",(a+u)/2),this.attr("rx",(i-o)/2),this.attr("ry",(u-a)/2)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}},xr=class extends tt{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(e){const t=(s,r)=>{if(s&&s.length)for(let n=0;n<s.length;n++){const o=s[n];if(o.getTotalLength){const i=o.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const u=o.getPointAtLength(i*a/this.pathSubFactor),c=o.getPointAtLength(i*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:u.x,x2:c.x,y1:u.y,y2:c.y,segment:a,element:r||o})}}else o.children&&t(o.children,o)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const e=this._erased;return this._erased=[],{undo:()=>e.forEach(t=>this.drauu._restoreNode(t)),redo:()=>e.forEach(t=>this.drauu._removeNode(t))}}checkAndEraseElement(){if(this.pathFragments.length)for(let e=0;e<this.pathFragments.length;e++){const t=this.pathFragments[e];if(this.svgPointPrevious&&this.svgPointCurrent){const s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,s)&&(this.drauu._removeNode(t.element),this._erased.push(t.element))}}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(e=>!this._erased.includes(e.element))),this._erased.length>0}lineLineIntersect(e,t){const s=e.x1,r=e.x2,n=t.x1,o=t.x2,i=e.y1,a=e.y2,u=t.y1,c=t.y2,d=(s-r)*(u-c)-(i-a)*(n-o),f=(s*a-i*r)*(n-o)-(s-r)*(n*c-u*o),v=(s*a-i*r)*(u-c)-(i-a)*(n*c-u*o),g=(x,p,m)=>x>=p&&x<=m?!0:x>=m&&x<=p;if(d===0)return!1;{const x={x:f/d,y:v/d};return g(x.x,s,r)&&g(x.y,i,a)&&g(x.x,n,o)&&g(x.y,u,c)}}},_r=class extends tt{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Qs(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Zs(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const r=e.x-this.start.x,n=e.y-this.start.y;if(n!==0){let o=r/n;o=Math.round(o),Math.abs(o)<=1?(t=this.start.x+n*o,s=this.start.y+n):(t=this.start.x+r,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(e.getTotalLength()<5)return!1}catch{return!1}return!0}},br=class extends tt{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=At(e.x-this.start.x),[r,n]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,r);t=o,r=o}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-r),this.attr("width",t*2),this.attr("height",r*2);else{const[o,i]=[this.start.x,this.start.x+t*s].sort(Nt),[a,u]=[this.start.y,this.start.y+r*n].sort(Nt);this.attr("x",o),this.attr("y",a),this.attr("width",i-o),this.attr("height",u-a)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}};function bs(e,t,s,r=n=>n){return e*r(.5-t*(.5-s))}function wr(e){return[-e[0],-e[1]]}function $e(e,t){return[e[0]+t[0],e[1]+t[1]]}function ke(e,t){return[e[0]-t[0],e[1]-t[1]]}function Me(e,t){return[e[0]*t,e[1]*t]}function kr(e,t){return[e[0]/t,e[1]/t]}function ot(e){return[e[1],-e[0]]}function ws(e,t){return e[0]*t[0]+e[1]*t[1]}function Sr(e,t){return e[0]===t[0]&&e[1]===t[1]}function Mr(e){return Math.hypot(e[0],e[1])}function $r(e){return e[0]*e[0]+e[1]*e[1]}function ks(e,t){return $r(ke(e,t))}function Js(e){return kr(e,Mr(e))}function Er(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function it(e,t,s){let r=Math.sin(s),n=Math.cos(s),o=e[0]-t[0],i=e[1]-t[1],a=o*n-i*r,u=o*r+i*n;return[a+t[0],u+t[1]]}function es(e,t,s){return $e(e,Me(ke(t,e),s))}function Ss(e,t,s){return $e(e,Me(t,s))}var{min:Qe,PI:Pr}=Math,Ms=.275,at=Pr+1e-4;function Cr(e,t={}){let{size:s=16,smoothing:r=.5,thinning:n=.5,simulatePressure:o=!0,easing:i=I=>I,start:a={},end:u={},last:c=!1}=t,{cap:d=!0,easing:f=I=>I*(2-I)}=a,{cap:v=!0,easing:g=I=>--I*I*I+1}=u;if(e.length===0||s<=0)return[];let x=e[e.length-1].runningLength,p=a.taper===!1?0:a.taper===!0?Math.max(s,x):a.taper,m=u.taper===!1?0:u.taper===!0?Math.max(s,x):u.taper,_=Math.pow(s*r,2),D=[],k=[],T=e.slice(0,10).reduce((I,q)=>{let j=q.pressure;if(o){let W=Qe(1,q.distance/s),rt=Qe(1,1-W);j=Qe(1,I+(rt-I)*(W*Ms))}return(I+j)/2},e[0].pressure),y=bs(s,n,e[e.length-1].pressure,i),B,V=e[0].vector,G=e[0].point,O=G,F=G,ne=O,xe=!1;for(let I=0;I<e.length;I++){let{pressure:q}=e[I],{point:j,vector:W,distance:rt,runningLength:M}=e[I];if(I<e.length-1&&x-M<3)continue;if(n){if(o){let ee=Qe(1,rt/s),he=Qe(1,1-ee);q=Qe(1,T+(he-T)*(ee*Ms))}y=bs(s,n,q,i)}else y=s/2;B===void 0&&(B=y);let Y=M<p?f(M/p):1,H=x-M<m?g((x-M)/m):1;y=Math.max(.01,y*Math.min(Y,H));let C=(I<e.length-1?e[I+1]:e[I]).vector,L=I<e.length-1?ws(W,C):1,se=ws(W,V)<0&&!xe,oe=L!==null&&L<0;if(se||oe){let ee=Me(ot(V),y);for(let he=1/13,le=0;le<=1;le+=he)F=it(ke(j,ee),j,at*le),D.push(F),ne=it($e(j,ee),j,at*-le),k.push(ne);G=F,O=ne,oe&&(xe=!0);continue}if(xe=!1,I===e.length-1){let ee=Me(ot(W),y);D.push(ke(j,ee)),k.push($e(j,ee));continue}let _e=Me(ot(es(C,W,L)),y);F=ke(j,_e),(I<=1||ks(G,F)>_)&&(D.push(F),G=F),ne=$e(j,_e),(I<=1||ks(O,ne)>_)&&(k.push(ne),O=ne),T=q,V=W}let ae=e[0].point.slice(0,2),K=e.length>1?e[e.length-1].point.slice(0,2):$e(e[0].point,[1,1]),de=[],Ie=[];if(e.length===1){if(!(p||m)||c){let I=Ss(ae,Js(ot(ke(ae,K))),-(B||y)),q=[];for(let j=1/13,W=j;W<=1;W+=j)q.push(it(I,ae,at*2*W));return q}}else{if(!(p||m&&e.length===1))if(d)for(let q=1/13,j=q;j<=1;j+=q){let W=it(k[0],ae,at*j);de.push(W)}else{let q=ke(D[0],k[0]),j=Me(q,.5),W=Me(q,.51);de.push(ke(ae,j),ke(ae,W),$e(ae,W),$e(ae,j))}let I=ot(wr(e[e.length-1].vector));if(m||p&&e.length===1)Ie.push(K);else if(v){let q=Ss(K,I,y);for(let j=1/29,W=j;W<1;W+=j)Ie.push(it(q,K,at*3*W))}else Ie.push($e(K,Me(I,y)),$e(K,Me(I,y*.99)),ke(K,Me(I,y*.99)),ke(K,Me(I,y)))}return D.concat(Ie,k.reverse(),de)}function Ir(e,t={}){var s;let{streamline:r=.5,size:n=16,last:o=!1}=t;if(e.length===0)return[];let i=.15+(1-r)*.85,a=Array.isArray(e[0])?e:e.map(({x:g,y:x,pressure:p=.5})=>[g,x,p]);if(a.length===2){let g=a[1];a=a.slice(0,-1);for(let x=1;x<5;x++)a.push(es(a[0],g,x/4))}a.length===1&&(a=[...a,[...$e(a[0],[1,1]),...a[0].slice(2)]]);let u=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,d=0,f=u[0],v=a.length-1;for(let g=1;g<a.length;g++){let x=o&&g===v?a[g].slice(0,2):es(f.point,a[g],i);if(Sr(f.point,x))continue;let p=Er(x,f.point);if(d+=p,g<v&&!c){if(d<n)continue;c=!0}f={point:x,pressure:a[g][2]>=0?a[g][2]:.5,vector:Js(ke(f.point,x)),distance:p,runningLength:d},u.push(f)}return u[0].vector=((s=u[1])==null?void 0:s.vector)||[0,0],u}function Rr(e,t={}){return Cr(Ir(e,t),t)}var Lr=class qs extends tt{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return qs.getSvgData(t,this.brush)}static getSvgData(t,s){const r=Rr(t,Jt({size:s.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},s.stylusOptions));if(!r.length)return"";const n=r.reduce((o,[i,a],u,c)=>{const[d,f]=c[(u+1)%c.length];return o.push(i,a,(i+d)/2,(a+f)/2),o},["M",...r[0],"Q"]);return n.push("Z"),n.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}};function Nr(e){return{draw:new gr(e),stylus:new Lr(e),line:new _r(e),rectangle:new br(e),ellipse:new yr(e),eraseLine:new xr(e)}}var Ar=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=cr(),this._originalPointerId=null,this._models=Nr(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget,e.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t,s=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const r=this.resolveSelector(t)||this.el,n=this.eventStart.bind(this),o=this.eventMove.bind(this),i=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);r.addEventListener("pointerdown",n,{passive:!1}),s.addEventListener("pointermove",o,{passive:!1}),s.addEventListener("pointerup",i,{passive:!1}),s.addEventListener("pointercancel",i,{passive:!1}),s.addEventListener("keydown",a,!1),s.addEventListener("keyup",a,!1),this._disposables.push(()=>{r.removeEventListener("pointerdown",n),s.removeEventListener("pointermove",o),s.removeEventListener("pointerup",i),s.removeEventListener("pointercancel",i),s.removeEventListener("keydown",a,!1),s.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);if(!t)this.cancel();else if(t===!0){const s=this._currentNode;s&&(this._appendNode(s),this.commit({undo:()=>this._removeNode(s),redo:()=>this._restoreNode(s)}))}else this.commit(t);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(e){this._opStack.length=this._opIndex,this._opStack.push(e),this._opIndex++;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}_appendNode(e){const t=this._elements.at(-1);t?t.after(e):this.el.append(e);const s=this._elements.push(e)-1;e.dataset.drauu_index=s.toString()}_removeNode(e){e.remove(),this._elements[+e.dataset.drauu_index]=null}_restoreNode(e){const t=+e.dataset.drauu_index;this._elements[t]=e;for(let s=t-1;s>=0;s--){const r=this._elements[s];if(r){r.after(e);return}}this.el.prepend(e)}};function Tr(e){return new Ar(e)}const st=fn(()=>{const{currentSlideNo:e,isPresenter:t}=ce(),s=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],r=Vt("slidev-drawing-enabled",!1),n=Vt("slidev-drawing-pinned",!1),o=vn(Vt("slidev-drawing-brush",{color:s[0],size:4,mode:"stylus"})),i=z(!1),a=z(!1),u=z(!1),c=z(!1),d=z("stylus"),f=$(()=>ye.drawings.syncAll||t.value);let v=!1;const g=$({get(){return d.value},set(k){d.value=k,k==="arrow"?(p.mode="line",o.arrowEnd=!0):(p.mode=k,o.arrowEnd=!1)}}),x=Ds({brush:o,acceptsInputTypes:$(()=>r.value&&(!ye.drawings.presenterOnly||t.value)?void 0:["pen"]),coordinateTransform:!1}),p=pn(Tr(x));function m(){p.clear(),f.value&&vs(e.value,"")}function _(){var k;u.value=p.canRedo(),a.value=p.canUndo(),c.value=!!((k=p.el)!=null&&k.children.length)}function D(k){v=!0;const T=Ft[k||e.value];T!=null?p.load(T):p.clear(),_(),v=!1}return p.on("changed",()=>{if(_(),!v){const k=p.dump(),T=e.value;(Ft[T]||"")!==k&&f.value&&vs(T,p.dump())}}),Rn(k=>{v=!0,k[e.value]!=null&&p.load(k[e.value]||""),v=!1,_()}),mn(()=>{Ye(e,()=>{p.mounted&&D()},{immediate:!0})}),p.on("start",()=>i.value=!0),p.on("end",()=>i.value=!1),window.addEventListener("keydown",k=>{if(!r.value||Hs.value)return;const T=!k.ctrlKey&&!k.altKey&&!k.shiftKey&&!k.metaKey;let y=!0;k.code==="KeyZ"&&(k.ctrlKey||k.metaKey)?k.shiftKey?p.redo():p.undo():k.code==="Escape"?r.value=!1:k.code==="KeyL"&&T?g.value="line":k.code==="KeyA"&&T?g.value="arrow":k.code==="KeyS"&&T?g.value="stylus":k.code==="KeyR"&&T?g.value="rectangle":k.code==="KeyE"&&T?g.value="ellipse":k.code==="KeyC"&&T?m():k.code.startsWith("Digit")&&T&&+k.code[5]<=s.length?o.color=s[+k.code[5]-1]:y=!1,y&&(k.preventDefault(),k.stopPropagation())},!1),{brush:o,brushColors:s,canClear:c,canRedo:u,canUndo:a,clear:m,drauu:p,drauuOptions:x,drawingEnabled:r,drawingMode:g,drawingPinned:n,drawingState:Ft,isDrawing:i,loadCanvas:D}}),Dr=2e3;function Vr(e){const t=$(()=>e.value&&St.value);function s(){document.body.style.cursor="none"}function r(){document.body.style.cursor=""}let n=null;Ye(t,o=>{o||r()}),as(document.body,["pointermove","pointerdown"],()=>{r(),n&&clearTimeout(n),t.value&&(n=setTimeout(s,Dr))},{passive:!0})}function Fr(e){const{next:t,nextSlide:s,prev:r,prevSlide:n}=ce(),{isDrawing:o}=st(),i=z(0),{direction:a,distanceX:u,distanceY:c}=gn(e,{pointerTypes:["touch"],onSwipeStart(){o.value||(i.value=yn())},onSwipeEnd(){if(!i.value||o.value)return;const d=Math.abs(u.value),f=Math.abs(c.value);d/window.innerWidth>.3||d>75?a.value==="left"?t():r():(f/window.innerHeight>.4||f>200)&&(a.value==="down"?n():s())}})}function Or(){const{request:e,release:t}=Vs();Ye(Mt,s=>{s?e("screen"):t()},{immediate:!0})}const Br=[];let Kt;const zr=()=>{if(Kt)return Kt;const{next:e,nextSlide:t,prev:s,prevSlide:r,hasNext:n,hasPrev:o,currentPage:i,total:a,isPresenter:u,enterPresenter:c,exitPresenter:d,isEmbedded:f,isPresenterAvailable:v}=ce(),{drawingEnabled:g}=st(),{isFullscreen:x,toggle:p}=us;return Kt=Br.reduce((m,_)=>_(m),$(()=>[{small:!0,icon:"i-carbon:arrow-left",label:"Previous Click",action:s,disabled:!o.value},{small:!0,icon:"i-carbon:arrow-right",label:"Next Click",action:e,disabled:!n.value},{small:!0,icon:"i-carbon:arrow-up",label:"Previous Slide",action:r,disabled:i.value<=1},{small:!0,icon:"i-carbon:arrow-down",label:"Next Slide",action:t,disabled:i.value>=a.value},"separator",{icon:"i-carbon:text-annotation-toggle",label:qe.value?"Hide editor":"Show editor",action:()=>qe.value=!qe.value},{icon:"i-carbon:pen",label:g.value?"Hide drawing toolbar":"Show drawing toolbar",action:()=>g.value=!g.value},{icon:"i-carbon:apps",label:"Show slide overview",action:It},u.value&&{icon:"i-carbon:presentation-file",label:"Exit Presenter Mode",action:d},!1,!f.value&&{icon:x.value?"i-carbon:minimize":"i-carbon:maximize",label:x.value?"Close fullscreen":"Enter fullscreen",action:p}].filter(Boolean)))},Ze=We(null);function jr(e,t){Ze.value={x:e,y:t,items:zr()}}function lt(){Ze.value=null}function Kr(e){if(ye.contextMenu!==!0&&ye.contextMenu!=null&&ye.contextMenu!==Ln||e.shiftKey||e.defaultPrevented)return;const{isEmbedded:t}=ce();t.value||(jr(e.pageX,e.pageY),e.preventDefault(),e.stopPropagation())}const Hr=["title","onClick"],Ur=["onClick"],Gr={class:"mx-auto flex"},Wr={key:0},Yr={class:"w-full text-xs p2"},Xr={class:"text-main text-opacity-50!"},Qr=X({__name:"ContextMenu",setup(e){const t=z();Fs(t,lt),as(document,"mousedown",u=>{u.buttons&2&&lt()},{passive:!0,capture:!0});const s=$(()=>ye.contextMenu!=null),r=xn();Ye(r,u=>{u||lt()}),ir(1);const{width:n,height:o}=_n(t),i=$(()=>{var c;const u=(c=Ze.value)==null?void 0:c.x;return u?u+n.value>Ge.width.value?Ge.width.value-n.value:u:0}),a=$(()=>{var c;const u=(c=Ze.value)==null?void 0:c.y;return u?u+o.value>Ge.height.value?Ge.height.value-o.value:u:0});return(u,c)=>l(Ze)?(h(),b("div",{key:0,ref_key:"container",ref:t,style:ge(`left:${i.value}px;top:${a.value}px`),class:"slidev-glass-effect fixed z-context-menu w-60 flex flex-wrap justify-items-start p-1 animate-fade-in animate-duration-100 rounded-md shadow overflow-hidden select-none",onContextmenu:c[1]||(c[1]=Os(()=>{},["prevent"])),onClick:c[2]||(c[2]=(...d)=>l(lt)&&l(lt)(...d))},[(h(!0),b(U,null,pt(l(Ze).items.value,(d,f)=>(h(),b(U,{key:f},[d==="separator"?(h(),b("div",{key:f,class:"w-full my1 border-t border-main"})):d.small?(h(),b("div",{key:1,class:Q(["p-2 w-[40px] h-[40px] inline-block text-center cursor-pointer rounded flex",d.disabled?"op40":"hover:bg-active"]),title:d.label,onClick:d.action},[typeof d.icon=="string"?(h(),b("div",{key:0,class:Q([d.icon,"text-1.2em ma"])},null,2)):(h(),R(Be(d.icon),{key:1}))],10,Hr)):(h(),b("div",{key:2,class:Q(["w-full grid grid-cols-[35px_1fr] p-2 pl-0 cursor-pointer rounded",d.disabled?"op40":"hover:bg-active"]),onClick:d.action},[w("div",Gr,[typeof d.icon=="string"?(h(),b("div",{key:0,class:Q([d.icon,"text-1.2em ma"])},null,2)):(h(),R(Be(d.icon),{key:1}))]),typeof d.label=="string"?(h(),b("div",Wr,me(d.label),1)):(h(),R(Be(d.label),{key:1}))],10,Ur))],64))),128)),s.value?S("v-if",!0):(h(),b(U,{key:0},[c[6]||(c[6]=w("div",{class:"w-full my1 border-t border-main"},null,-1)),w("div",Yr,[w("div",Xr,[c[3]||(c[3]=Xe(" Hold ")),c[4]||(c[4]=w("kbd",{class:"border px1 py0.5 border-main rounded text-primary"},"Shift",-1)),c[5]||(c[5]=Xe(" and right click to open the native context menu ")),S("v-if",!0)])])],64))],36)):S("v-if",!0)}}),Zr={key:0},Jr={key:1},qr={key:2},eo={key:3},to={key:4},so={key:5},no={key:6},ro={key:7},oo={key:8},io={key:9},ao={key:10},lo=X({__name:"title-renderer",props:{no:{}},setup(e){const t=e,{$page:s}=qn(),r=$(()=>+(t.no??s.value));return(n,o)=>(h(),b("div",null,[r.value===1?(h(),b("p",Zr,"Branded Types in TypeScript")):r.value===2?(h(),b("p",Jr,"What are Branded Types?")):r.value===3?(h(),b("p",qr,"Why Use Branded Types?")):r.value===4?(h(),b("p",eo,"Basic Example: User ID")):r.value===5?(h(),b("p",to,"Benefits of Branded Types")):r.value===6?(h(),b("p",so,"Going Generic")):r.value===7?(h(),b("p",no,"Type Guards with Branded Types")):r.value===8?(h(),b("p",ro,"Type Assertions with Branded Types")):r.value===9?(h(),b("p",oo,"Type Assertions with Branded Types")):r.value===10?(h(),b("p",io,"Best Practices")):r.value===11?(h(),b("p",ao,"Questions?")):S("v-if",!0)]))}});function De(e){return Array.isArray?Array.isArray(e):sn(e)==="[object Array]"}const uo=1/0;function co(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-uo?"-0":t}function ho(e){return e==null?"":co(e)}function Ce(e){return typeof e=="string"}function en(e){return typeof e=="number"}function fo(e){return e===!0||e===!1||vo(e)&&sn(e)=="[object Boolean]"}function tn(e){return typeof e=="object"}function vo(e){return tn(e)&&e!==null}function pe(e){return e!=null}function Ht(e){return!e.trim().length}function sn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const po="Incorrect 'index' type",mo=e=>`Invalid value for key ${e}`,go=e=>`Pattern length exceeds max of ${e}.`,yo=e=>`Missing ${e} property in key`,xo=e=>`Property 'weight' in key '${e}' must be a positive integer`,$s=Object.prototype.hasOwnProperty;class _o{constructor(t){this._keys=[],this._keyMap={};let s=0;t.forEach(r=>{let n=nn(r);this._keys.push(n),this._keyMap[n.id]=n,s+=n.weight}),this._keys.forEach(r=>{r.weight/=s})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function nn(e){let t=null,s=null,r=null,n=1,o=null;if(Ce(e)||De(e))r=e,t=Es(e),s=ts(e);else{if(!$s.call(e,"name"))throw new Error(yo("name"));const i=e.name;if(r=i,$s.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(xo(i));t=Es(i),s=ts(i),o=e.getFn}return{path:t,id:s,weight:n,src:r,getFn:o}}function Es(e){return De(e)?e:e.split(".")}function ts(e){return De(e)?e.join("."):e}function bo(e,t){let s=[],r=!1;const n=(o,i,a)=>{if(pe(o))if(!i[a])s.push(o);else{let u=i[a];const c=o[u];if(!pe(c))return;if(a===i.length-1&&(Ce(c)||en(c)||fo(c)))s.push(ho(c));else if(De(c)){r=!0;for(let d=0,f=c.length;d<f;d+=1)n(c[d],i,a+1)}else i.length&&n(c,i,a+1)}};return n(e,Ce(t)?t.split("."):t,0),r?s:s[0]}const wo={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ko={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},So={location:0,threshold:.6,distance:100},Mo={useExtendedSearch:!1,getFn:bo,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...ko,...wo,...So,...Mo};const $o=/[^ ]+/g;function Eo(e=1,t=3){const s=new Map,r=Math.pow(10,t);return{get(n){const o=n.match($o).length;if(s.has(o))return s.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return s.set(o,a),a},clear(){s.clear()}}}class ds{constructor({getFn:t=E.getFn,fieldNormWeight:s=E.fieldNormWeight}={}){this.norm=Eo(s,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((s,r)=>{this._keysMap[s.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ce(this.docs[0])?this.docs.forEach((t,s)=>{this._addString(t,s)}):this.docs.forEach((t,s)=>{this._addObject(t,s)}),this.norm.clear())}add(t){const s=this.size();Ce(t)?this._addString(t,s):this._addObject(t,s)}removeAt(t){this.records.splice(t,1);for(let s=t,r=this.size();s<r;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(t,s){return t[this._keysMap[s]]}size(){return this.records.length}_addString(t,s){if(!pe(t)||Ht(t))return;let r={v:t,i:s,n:this.norm.get(t)};this.records.push(r)}_addObject(t,s){let r={i:s,$:{}};this.keys.forEach((n,o)=>{let i=n.getFn?n.getFn(t):this.getFn(t,n.path);if(pe(i)){if(De(i)){let a=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(pe(d))if(Ce(d)&&!Ht(d)){let f={v:d,i:c,n:this.norm.get(d)};a.push(f)}else De(d)&&d.forEach((f,v)=>{u.push({nestedArrIndex:v,value:f})})}r.$[o]=a}else if(Ce(i)&&!Ht(i)){let a={v:i,n:this.norm.get(i)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function rn(e,t,{getFn:s=E.getFn,fieldNormWeight:r=E.fieldNormWeight}={}){const n=new ds({getFn:s,fieldNormWeight:r});return n.setKeys(e.map(nn)),n.setSources(t),n.create(),n}function Po(e,{getFn:t=E.getFn,fieldNormWeight:s=E.fieldNormWeight}={}){const{keys:r,records:n}=e,o=new ds({getFn:t,fieldNormWeight:s});return o.setKeys(r),o.setIndexRecords(n),o}function bt(e,{errors:t=0,currentLocation:s=0,expectedLocation:r=0,distance:n=E.distance,ignoreLocation:o=E.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(r-s);return n?i+a/n:a?1:i}function Co(e=[],t=E.minMatchCharLength){let s=[],r=-1,n=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&r===-1?r=o:!a&&r!==-1&&(n=o-1,n-r+1>=t&&s.push([r,n]),r=-1)}return e[o-1]&&o-r>=t&&s.push([r,o-1]),s}const Ue=32;function Io(e,t,s,{location:r=E.location,distance:n=E.distance,threshold:o=E.threshold,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,includeMatches:u=E.includeMatches,ignoreLocation:c=E.ignoreLocation}={}){if(t.length>Ue)throw new Error(go(Ue));const d=t.length,f=e.length,v=Math.max(0,Math.min(r,f));let g=o,x=v;const p=a>1||u,m=p?Array(f):[];let _;for(;(_=e.indexOf(t,x))>-1;){let V=bt(t,{currentLocation:_,expectedLocation:v,distance:n,ignoreLocation:c});if(g=Math.min(V,g),x=_+d,p){let G=0;for(;G<d;)m[_+G]=1,G+=1}}x=-1;let D=[],k=1,T=d+f;const y=1<<d-1;for(let V=0;V<d;V+=1){let G=0,O=T;for(;G<O;)bt(t,{errors:V,currentLocation:v+O,expectedLocation:v,distance:n,ignoreLocation:c})<=g?G=O:T=O,O=Math.floor((T-G)/2+G);T=O;let F=Math.max(1,v-O+1),ne=i?f:Math.min(v+O,f)+d,xe=Array(ne+2);xe[ne+1]=(1<<V)-1;for(let K=ne;K>=F;K-=1){let de=K-1,Ie=s[e.charAt(de)];if(p&&(m[de]=+!!Ie),xe[K]=(xe[K+1]<<1|1)&Ie,V&&(xe[K]|=(D[K+1]|D[K])<<1|1|D[K+1]),xe[K]&y&&(k=bt(t,{errors:V,currentLocation:de,expectedLocation:v,distance:n,ignoreLocation:c}),k<=g)){if(g=k,x=de,x<=v)break;F=Math.max(1,2*v-x)}}if(bt(t,{errors:V+1,currentLocation:v,expectedLocation:v,distance:n,ignoreLocation:c})>g)break;D=xe}const B={isMatch:x>=0,score:Math.max(.001,k)};if(p){const V=Co(m,a);V.length?u&&(B.indices=V):B.isMatch=!1}return B}function Ro(e){let t={};for(let s=0,r=e.length;s<r;s+=1){const n=e.charAt(s);t[n]=(t[n]||0)|1<<r-s-1}return t}class on{constructor(t,{location:s=E.location,threshold:r=E.threshold,distance:n=E.distance,includeMatches:o=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreLocation:c=E.ignoreLocation}={}){if(this.options={location:s,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(v,g)=>{this.chunks.push({pattern:v,alphabet:Ro(v),startIndex:g})},f=this.pattern.length;if(f>Ue){let v=0;const g=f%Ue,x=f-g;for(;v<x;)d(this.pattern.substr(v,Ue),v),v+=Ue;if(g){const p=f-Ue;d(this.pattern.substr(p),p)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:s,includeMatches:r}=this.options;if(s||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return r&&(x.indices=[[0,t.length-1]]),x}const{location:n,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:u,ignoreLocation:c}=this.options;let d=[],f=0,v=!1;this.chunks.forEach(({pattern:x,alphabet:p,startIndex:m})=>{const{isMatch:_,score:D,indices:k}=Io(t,x,p,{location:n+m,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});_&&(v=!0),f+=D,_&&k&&(d=[...d,...k])});let g={isMatch:v,score:v?f/this.chunks.length:1};return v&&r&&(g.indices=d),g}}class Ke{constructor(t){this.pattern=t}static isMultiMatch(t){return Ps(t,this.multiRegex)}static isSingleMatch(t){return Ps(t,this.singleRegex)}search(){}}function Ps(e,t){const s=e.match(t);return s?s[1]:null}class Lo extends Ke{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const s=t===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class No extends Ke{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Ao extends Ke{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const s=t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class To extends Ke{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const s=!t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Do extends Ke{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const s=t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Vo extends Ke{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const s=!t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class an extends Ke{constructor(t,{location:s=E.location,threshold:r=E.threshold,distance:n=E.distance,includeMatches:o=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreLocation:c=E.ignoreLocation}={}){super(t),this._bitapSearch=new on(t,{location:s,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ln extends Ke{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let s=0,r;const n=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,s))>-1;)s=r+o,n.push([r,s-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const ss=[Lo,ln,Ao,To,Vo,Do,No,an],Cs=ss.length,Fo=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Oo="|";function Bo(e,t={}){return e.split(Oo).map(s=>{let r=s.trim().split(Fo).filter(o=>o&&!!o.trim()),n=[];for(let o=0,i=r.length;o<i;o+=1){const a=r[o];let u=!1,c=-1;for(;!u&&++c<Cs;){const d=ss[c];let f=d.isMultiMatch(a);f&&(n.push(new d(f,t)),u=!0)}if(!u)for(c=-1;++c<Cs;){const d=ss[c];let f=d.isSingleMatch(a);if(f){n.push(new d(f,t));break}}}return n})}const zo=new Set([an.type,ln.type]);class jo{constructor(t,{isCaseSensitive:s=E.isCaseSensitive,includeMatches:r=E.includeMatches,minMatchCharLength:n=E.minMatchCharLength,ignoreLocation:o=E.ignoreLocation,findAllMatches:i=E.findAllMatches,location:a=E.location,threshold:u=E.threshold,distance:c=E.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:r,minMatchCharLength:n,findAllMatches:i,ignoreLocation:o,location:a,threshold:u,distance:c},this.pattern=s?t:t.toLowerCase(),this.query=Bo(this.pattern,this.options)}static condition(t,s){return s.useExtendedSearch}searchIn(t){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let o=0,i=[],a=0;for(let u=0,c=s.length;u<c;u+=1){const d=s[u];i.length=0,o=0;for(let f=0,v=d.length;f<v;f+=1){const g=d[f],{isMatch:x,indices:p,score:m}=g.search(t);if(x){if(o+=1,a+=m,r){const _=g.constructor.type;zo.has(_)?i=[...i,...p]:i.push(p)}}else{a=0,o=0,i.length=0;break}}if(o){let f={isMatch:!0,score:a/o};return r&&(f.indices=i),f}}return{isMatch:!1,score:1}}}const ns=[];function Ko(...e){ns.push(...e)}function rs(e,t){for(let s=0,r=ns.length;s<r;s+=1){let n=ns[s];if(n.condition(e,t))return new n(e,t)}return new on(e,t)}const Tt={AND:"$and",OR:"$or"},os={PATH:"$path",PATTERN:"$val"},is=e=>!!(e[Tt.AND]||e[Tt.OR]),Ho=e=>!!e[os.PATH],Uo=e=>!De(e)&&tn(e)&&!is(e),Is=e=>({[Tt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function un(e,t,{auto:s=!0}={}){const r=n=>{let o=Object.keys(n);const i=Ho(n);if(!i&&o.length>1&&!is(n))return r(Is(n));if(Uo(n)){const u=i?n[os.PATH]:o[0],c=i?n[os.PATTERN]:n[u];if(!Ce(c))throw new Error(mo(u));const d={keyId:ts(u),pattern:c};return s&&(d.searcher=rs(c,t)),d}let a={children:[],operator:o[0]};return o.forEach(u=>{const c=n[u];De(c)&&c.forEach(d=>{a.children.push(r(d))})}),a};return is(e)||(e=Is(e)),r(e)}function Go(e,{ignoreFieldNorm:t=E.ignoreFieldNorm}){e.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:o,score:i})=>{const a=n?n.weight:null;r*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),s.score=r})}function Wo(e,t){const s=e.matches;t.matches=[],pe(s)&&s.forEach(r=>{if(!pe(r.indices)||!r.indices.length)return;const{indices:n,value:o}=r;let i={indices:n,value:o};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),t.matches.push(i)})}function Yo(e,t){t.score=e.score}function Xo(e,t,{includeMatches:s=E.includeMatches,includeScore:r=E.includeScore}={}){const n=[];return s&&n.push(Wo),r&&n.push(Yo),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return n.length&&n.forEach(u=>{u(o,a)}),a})}class nt{constructor(t,s={},r){this.options={...E,...s},this.options.useExtendedSearch,this._keyStore=new _o(this.options.keys),this.setCollection(t,r)}setCollection(t,s){if(this._docs=t,s&&!(s instanceof ds))throw new Error(po);this._myIndex=s||rn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pe(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const s=[];for(let r=0,n=this._docs.length;r<n;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,n-=1,s.push(o))}return s}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let u=Ce(t)?Ce(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Go(u,{ignoreFieldNorm:a}),o&&u.sort(i),en(s)&&s>-1&&(u=u.slice(0,s)),Xo(u,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(t){const s=rs(t,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:o,i,n:a})=>{if(!pe(o))return;const{isMatch:u,score:c,indices:d}=s.searchIn(o);u&&n.push({item:o,idx:i,matches:[{score:c,value:o,norm:a,indices:d}]})}),n}_searchLogical(t){const s=un(t,this.options),r=(a,u,c)=>{if(!a.children){const{keyId:f,searcher:v}=a,g=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:v});return g&&g.length?[{idx:c,item:u,matches:g}]:[]}const d=[];for(let f=0,v=a.children.length;f<v;f+=1){const g=a.children[f],x=r(g,u,c);if(x.length)d.push(...x);else if(a.operator===Tt.AND)return[]}return d},n=this._myIndex.records,o={},i=[];return n.forEach(({$:a,i:u})=>{if(pe(a)){let c=r(s,a,u);c.length&&(o[u]||(o[u]={idx:u,item:a,matches:[]},i.push(o[u])),c.forEach(({matches:d})=>{o[u].matches.push(...d)}))}}),i}_searchObjectList(t){const s=rs(t,this.options),{keys:r,records:n}=this._myIndex,o=[];return n.forEach(({$:i,i:a})=>{if(!pe(i))return;let u=[];r.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:i[d],searcher:s}))}),u.length&&o.push({idx:a,item:i,matches:u})}),o}_findMatches({key:t,value:s,searcher:r}){if(!pe(s))return[];let n=[];if(De(s))s.forEach(({v:o,i,n:a})=>{if(!pe(o))return;const{isMatch:u,score:c,indices:d}=r.searchIn(o);u&&n.push({score:c,key:t,value:o,idx:i,norm:a,indices:d})});else{const{v:o,n:i}=s,{isMatch:a,score:u,indices:c}=r.searchIn(o);a&&n.push({score:u,key:t,value:o,norm:i,indices:c})}return n}}nt.version="7.0.0";nt.createIndex=rn;nt.parseIndex=Po;nt.config=E;nt.parseQuery=un;Ko(jo);const Qo={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},Zo=["value","disabled"],Jo={table:"","w-full":"","border-collapse":""},qo=["border","onClick"],ei={"text-right":"",op50:"","text-sm":"","table-cell":"","py-2":"","pl-4":"","pr-3":"","vertical-middle":""},ti=X({__name:"Goto",setup(e){const t=z(),s=z(),r=z(),n=z(),o=z(""),i=z(0),{go:a,slides:u}=ce();function c(y){return y!=null}const d=$(()=>new nt(u.value.map(y=>{var B;return(B=y.meta)==null?void 0:B.slide}).filter(c),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),f=$(()=>o.value.startsWith("/")?o.value.substring(1):o.value),v=$(()=>d.value.search(f.value).map(y=>y.item)),g=$(()=>!!v.value.length);function x(){if(g.value){const y=v.value.at(i.value||0);y&&a(y.no)}p()}function p(){o.value="",Oe.value=!1}function m(y){y.preventDefault(),i.value++,i.value>=v.value.length&&(i.value=0),D()}function _(y){y.preventDefault(),i.value--,i.value<=-2&&(i.value=v.value.length-1),D()}function D(){var B;const y=(B=n.value)==null?void 0:B[i.value];y&&r.value&&(y.offsetTop+y.offsetHeight>r.value.offsetHeight+r.value.scrollTop?r.value.scrollTo({behavior:"smooth",top:y.offsetTop+y.offsetHeight-r.value.offsetHeight+1}):y.offsetTop<r.value.scrollTop&&r.value.scrollTo({behavior:"smooth",top:y.offsetTop}))}function k(y){i.value=0,o.value=y.target.value}function T(y){a(y),p()}return Ye(Oe,async y=>{var B;y?(o.value="",i.value=0,setTimeout(()=>{var V;return(V=s.value)==null?void 0:V.focus()},0)):(B=s.value)==null||B.blur()}),Ye(ct,()=>{var y;(y=t.value)!=null&&y.contains(ct.value)||p()}),(y,B)=>(h(),b("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:Q(["fixed right-5 transition-all",l(Oe)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[w("div",Qo,[w("input",{id:"slidev-goto-input",ref_key:"input",ref:s,value:o.value,type:"text",disabled:!l(Oe),class:Q(["outline-none bg-transparent",{"text-red-400":!g.value&&o.value}]),placeholder:"Goto...",onKeydown:[yt(x,["enter"]),yt(p,["escape"]),yt(m,["down"]),yt(_,["up"])],onInput:k},null,42,Zo)]),v.value.length>0?(h(),b("div",{key:0,ref_key:"list",ref:r,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[w("ul",Jo,[(h(!0),b(U,null,pt(v.value,(V,G)=>(h(),b("li",{ref_for:!0,ref_key:"items",ref:n,key:V.id,role:"button",tabindex:"0","cursor-pointer":"",hover:"op100","table-row":"","items-center":"",border:G===0?void 0:"t main",class:Q(i.value===G?"bg-active op100":"op80"),onClick:Os(O=>T(V.no),["stop","prevent"])},[w("div",ei,me(V.no),1),P(l(lo),{"table-cell":"","py-2":"","pr-4":"","w-full":"",no:V.no},null,8,["no"])],10,qo))),128))])],512)):S("v-if",!0)],2))}}),si=mt(ti,[["__scopeId","data-v-d3bc2722"]]),ni="/typescript-lightning-talks/01-branded-types/assets/logo-BYkHSa_O.png",ri={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-modal"},oi=X({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=ls(s,"modelValue",t);function o(){n.value=!1}return(i,a)=>(h(),R(Bs,null,[l(n)?(h(),b("div",ri,[w("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=u=>o())}),w("div",{class:Q(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[ze(i.$slots,"default")],2)])):S("v-if",!0)],1024))}}),ii={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},ai=["innerHTML"],li=X({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=ls(e,"modelValue",t),o=$(()=>typeof ye.info=="string");return(i,a)=>(h(),R(oi,{modelValue:l(n),"onUpdate:modelValue":a[0]||(a[0]=u=>Je(n)?n.value=u:null),class:"px-6 py-4"},{default:N(()=>[w("div",ii,[o.value?(h(),b("div",{key:0,class:"mb-4",innerHTML:l(ye).info},null,8,ai)):S("v-if",!0),a[1]||(a[1]=w("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[w("div",{class:"flex gap-1 children:my-auto"},[w("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),w("img",{class:"w-5 h-5",src:ni,alt:"Slidev logo"}),w("div",{style:{color:"#2082A6"}},[w("b",null,"Sli"),Xe("dev ")])])],-1))])]),_:1},8,["modelValue"]))}}),$t=z(1),Et=$(()=>Nn.value.length),re=z(0),hs=z(0);function ui(){re.value>$t.value&&(re.value-=1)}function ci(){re.value<Et.value&&(re.value+=1)}function di(){if(re.value>$t.value){let e=re.value-hs.value;e<$t.value&&(e=$t.value),re.value=e}}function hi(){if(re.value<Et.value){let e=re.value+hs.value;e>Et.value&&(e=Et.value),re.value=e}}var As;(As=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||As[1];const je=Ds({});let fi=[],vi=[];et(je,"$syncUp",!0);et(je,"$syncDown",!0);et(je,"$paused",!1);et(je,"$onSet",e=>fi.push(e));et(je,"$onPatch",e=>vi.push(e));An();et(je,"$patch",async()=>!1);const pi=Tn(je,je,!0);var Ts;(Ts=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||Ts[1];class mi{constructor(){this._screenshotSession=null}getSnapshot(t,s){const r=t+(s?"-dark":"-light"),n=pi.state[r];if(!n)return;const o=Ct(t);if(o&&(n==null?void 0:n.revision)===(o==null?void 0:o.meta.slide.revision))return n.image}async saveSnapshot(t,s,r){return!1}async startCapturing(t){return!1}}const gi=new mi,yi=["innerHTML"],xi=X({__name:"DrawingPreview",props:{page:{}},setup(e){const{drawingState:t}=st();return(s,r)=>l(t)[s.page]?(h(),b("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:l(t)[s.page]},null,8,yi)):S("v-if",!0)}}),_i={class:"sr-only"},be=X({__name:"IconButton",props:{title:{},icon:{},as:{},to:{}},setup(e){const t=e,s=$(()=>t.as||(t.to?"router-link":"button"));return(r,n)=>(h(),R(Be(s.value),{class:"slidev-icon-btn",title:r.title,to:r.to},{default:N(()=>[w("span",_i,me(r.title),1),ze(r.$slots,"default",{},()=>[w("div",{class:Q(r.icon)},null,2)])]),_:3},8,["title","to"]))}}),bi=["id"],wi=["id"],ki={class:"slidev-slide-container w-full h-full relative"},Si=["src"],Mi=X({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=e,{isPrintMode:s}=ce(),r=z(null),n=bn(r),o=z(null),i=$(()=>t.width??n.width.value),a=$(()=>t.width?t.width/ps.value:n.height.value),u=$(()=>dt.value&&!s.value?+dt.value:Math.min(i.value/Rt.value,a.value/Lt.value)),c=$(()=>({...t.contentStyle,height:`${Lt.value}px`,width:`${Rt.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),d=$(()=>t.width?{width:`${t.width}px`,height:`${t.width/ps.value}px`}:{});t.isMain&&wn($(()=>`:root { --slidev-slide-scale: ${u.value}; }`)),Fe(Us,u),Fe(Dn,o);const f=$(()=>{if(!(t.no==null||!t.useSnapshot))return gi.getSnapshot(t.no,vt.value)});return(v,g)=>f.value?(h(),b(U,{key:1},[S(" Image Snapshot "),w("div",ki,[w("img",{src:f.value,class:"w-full h-full object-cover",style:ge(d.value)},null,12,Si),g[0]||(g[0]=w("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[w("div",{class:"i-carbon-camera"})],-1))])],2112)):(h(),b("div",{key:0,id:e.isMain?"slide-container":void 0,ref_key:"container",ref:r,class:"slidev-slide-container",style:ge(d.value)},[w("div",{id:e.isMain?"slide-content":void 0,ref_key:"slideElement",ref:o,class:"slidev-slide-content",style:ge(c.value)},[ze(v.$slots,"default",{},void 0,!0)],12,wi),ze(v.$slots,"controls",{},void 0,!0)],12,bi))}}),cn=mt(Mi,[["__scopeId","data-v-13cb9d5c"]]),$i={render:()=>[]},Ei={render:()=>[]},Pi={render:()=>[]},Ci={render:()=>[]},Ii=["data-slidev-no","lang"],Ri=X({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(e){const t=e,s=$(()=>{var o,i;return((i=(o=t.route.meta)==null?void 0:o.slide)==null?void 0:i.frontmatter.zoom)??1});Fe(Vn,t.route),Fe(Fn,t.route.meta.slide.frontmatter),Fe(On,z(t.route.no)),Fe(Bn,z(t.renderContext)),Fe(zn,kn(t,"clicksContext")),Fe(jn,s);const r=$(()=>s.value===1?void 0:{width:`${100/s.value}%`,height:`${100/s.value}%`,transformOrigin:"top left",transform:`scale(${s.value})`}),n=$(()=>({...r.value,"user-select":ye.selectable?void 0:"none"}));return(o,i)=>(h(),b("div",{"data-slidev-no":t.route.no,class:Q(l(Kn)(e.route,["slide","presenter"].includes(t.renderContext)?"":"disable-view-transition")),style:ge(n.value),lang:t.route.meta.slide.frontmatter.lang},[P(l(Ci)),(h(),R(Be(t.route.component))),P(l(Pi))],14,Ii))}}),dn=mt(Ri,[["__scopeId","data-v-02e2afba"]]),Li=["onClick"],Ni={class:"text-green font-bold"},Ai={class:"opacity-50"},Ti={key:1,class:"opacity-50"},Di={class:"fixed top-4 right-4 z-modal text-gray-400 flex flex-col items-center gap-2"},Ut=4*16*2,Rs=2*16,Vi=X({__name:"QuickOverview",setup(e){const t=ce(),{currentSlideNo:s,go:r,slides:n}=t;function o(){ve.value=!1}function i(g){r(g),o()}function a(g){return g===re.value}const u=Xt.smaller("xs"),c=Xt.smaller("sm"),d=$(()=>u.value?Ge.width.value-Ut:c.value?(Ge.width.value-Ut-Rs)/2:300),f=$(()=>Math.floor((Ge.width.value-Ut)/(d.value+Rs))),v=z("");return as("keypress",g=>{if(!ve.value){v.value="";return}if(g.key==="Enter"){g.preventDefault(),v.value?(i(+v.value),v.value=""):i(re.value);return}const x=Number.parseInt(g.key.replace(/\D/g,""));if(Number.isNaN(x)){v.value="";return}if(!v.value&&x===0)return;if(v.value+=String(x),+v.value>=n.value.length){v.value="";return}const p=n.value.findIndex(m=>`/${m.no}`===v.value);p!==-1&&(re.value=p+1),+v.value*10>n.value.length&&(i(+v.value),v.value="")}),Pt(()=>{re.value=s.value,hs.value=f.value}),(g,x)=>(h(),b(U,null,[P(Sn,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px"},{default:N(()=>[l(ve)?(h(),b("div",{key:0,class:"fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)] z-modal bg-main !bg-opacity-75 p-16 py-20 overflow-y-auto backdrop-blur-5px select-none",onClick:o},[w("div",{class:"grid gap-y-4 gap-x-8 w-full",style:ge(`grid-template-columns: repeat(auto-fit,minmax(${d.value}px,1fr))`)},[(h(!0),b(U,null,pt(l(n),(p,m)=>(h(),b("div",{key:p.no,class:"relative"},[w("div",{class:Q(["inline-block border rounded overflow-hidden bg-main hover:border-primary transition",a(m+1)||l(re)===m+1?"border-primary":"border-main"]),onClick:_=>i(p.no)},[(h(),R(cn,{key:p.no,no:p.no,"use-snapshot":!0,width:d.value,class:"pointer-events-none"},{default:N(()=>[P(dn,{"clicks-context":l(Gs)(p,l(Ws)),route:p,"render-context":"overview"},null,8,["clicks-context","route"]),P(xi,{page:p.no},null,8,["page"])]),_:2},1032,["no","width"]))],10,Li),w("div",{class:"absolute top-0",style:ge(`left: ${d.value+5}px`)},[v.value&&String(m+1).startsWith(v.value)?(h(),b(U,{key:0},[w("span",Ni,me(v.value),1),w("span",Ai,me(String(m+1).slice(v.value.length)),1)],64)):(h(),b("span",Ti,me(m+1),1))],4)]))),128))],4)])):S("v-if",!0)]),_:1}),ft(w("div",Di,[P(be,{title:"Close",class:"text-2xl",onClick:o},{default:N(()=>x[0]||(x[0]=[w("div",{class:"i-carbon:close"},null,-1)])),_:1}),S("v-if",!0),S("v-if",!0)],512),[[zs,l(ve)]])],64))}}),Fi=X({__name:"Controls",setup(e){ce();const t=We(),s=We(),r=We();return(n,o)=>(h(),b(U,null,[t.value?(h(),R(l(t),{key:0})):S("v-if",!0),P(Vi),P(si),s.value?(h(),R(l(s),{key:1})):S("v-if",!0),r.value?(h(),R(l(r),{key:2,modelValue:l(Ot),"onUpdate:modelValue":o[0]||(o[0]=i=>Je(Ot)?Ot.value=i:null)},null,8,["modelValue"])):S("v-if",!0),l(ye).info?(h(),R(li,{key:3,modelValue:l(ht),"onUpdate:modelValue":o[1]||(o[1]=i=>Je(ht)?ht.value=i:null)},null,8,["modelValue"])):S("v-if",!0),P(Qr)],64))}}),Oi={render:()=>[]},Bi={key:0,class:"bg-main text-main shadow-xl absolute bottom-10 left-0 z-menu py2",border:"~ main rounded-md"},zi=X({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const n=ls(e,"modelValue",t,{passive:!0}),o=z();return Fs(o,()=>{n.value=!1}),(i,a)=>(h(),b("div",{ref_key:"el",ref:o,class:"flex relative"},[w("button",{class:Q({disabled:e.disabled}),onClick:a[0]||(a[0]=u=>n.value=!l(n))},[ze(i.$slots,"button",{class:Q({disabled:e.disabled})})],2),(h(),R(Bs,null,[l(n)?(h(),b("div",Bi,[ze(i.$slots,"menu")])):S("v-if",!0)],1024))],512))}}),ji={border:"~ main rounded",flex:"~ gap-2 items-center",relative:"","h-5":"","w-5":"","p0.5":"","hover:bg-active":"",p1:""},Ki=["disabled"],Gt=X({__name:"FormCheckbox",props:js({disabled:{type:Boolean}},{modelValue:{type:Boolean,type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ks(e,"modelValue");return(s,r)=>(h(),b("div",ji,[w("div",{"i-ri-check-line":"",class:Q(t.value?"":"op0")},null,2),ft(w("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n),type:"checkbox",absolute:"","inset-0":"","opacity-0.1":"",disabled:s.disabled},null,8,Ki),[[Mn,t.value]])]))}}),Hi={"w-30":"","h-8":"",flex:"~ gap-1 items-center"},Ui={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},Gi={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},Wi=["innerHTML"],Ae=X({__name:"FormItem",props:{title:{},nested:{type:[Boolean,Number]},div:{type:Boolean},description:{},dot:{type:Boolean}},emits:["reset"],setup(e,{emit:t}){const s=t;function r(){s("reset")}return(n,o)=>(h(),R(Be(n.div?"div":"label"),{flex:"~ row gap-2 items-center","select-none":""},{default:N(()=>[w("div",Hi,[n.nested?(h(),b("div",{key:0,"i-ri-corner-down-right-line":"",op40:"",style:ge(typeof n.nested=="number"?{marginLeft:`${n.nested*.5+.5}rem`}:{marginLeft:"0.25rem"})},null,4)):S("v-if",!0),n.description?(h(),R(l(nr),{key:2,distance:"10"},{popper:N(()=>[w("div",{"text-sm":"","min-w-90":"",innerHTML:n.description},null,8,Wi)]),default:N(()=>[w("div",{op75:"","text-right":"",relative:"",onDblclick:r},[Xe(me(n.title)+" ",1),n.dot?(h(),b("div",Gi)):S("v-if",!0)],32)]),_:1})):(h(),b("div",{key:1,op75:"",relative:"",onDblclick:r},[Xe(me(n.title)+" ",1),n.dot?(h(),b("div",Ui)):S("v-if",!0)],32))]),ze(n.$slots,"default")]),_:3}))}}),Yi={relative:"","h-22px":""},Xi={key:0,"pointer-events-none":"",absolute:"","right-1":"","top-0.5":"","text-xs":"",op25:""},ut=X({__name:"FormSlider",props:js({max:{},min:{},step:{},unit:{},default:{}},{modelValue:{type:Number},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,s=Ks(e,"modelValue");return(r,n)=>(h(),b(U,null,[w("div",{relative:"","h-22px":"","w-60":"","flex-auto":"",onDblclick:n[1]||(n[1]=o=>t.default!==void 0?s.value=t.default:null)},[ft(w("input",Yt({"onUpdate:modelValue":n[0]||(n[0]=o=>s.value=o),type:"range",class:"slider"},t,{absolute:"","bottom-0":"","left-0":"","right-0":"","top-0":"","z-10":"","w-full":"","align-top":""}),null,16),[[fs,s.value,void 0,{number:!0}]]),t.default!=null?(h(),b("span",{key:0,border:"r main",absolute:"","bottom-0":"","top-0":"","h-full":"","w-1px":"",op75:"",style:ge({left:`${(t.default-r.min)/(r.max-r.min)*100}%`})},null,4)):S("v-if",!0)],32),w("div",Yi,[ft(w("input",Yt({"onUpdate:modelValue":n[2]||(n[2]=o=>s.value=o),type:"number"},t,{border:"~ main rounded",m0:"","w-20":"","bg-gray:5":"",pl2:"","align-top":"","text-sm":""}),null,16),[[fs,s.value,void 0,{number:!0}]]),t.unit?(h(),b("span",Xi,me(t.unit),1)):S("v-if",!0)])],64))}}),Ls={error:0,client:60,Light:60,Dark:240};function Ns(e,t=1){if(Ls[e])return Dt(Ls[e],t);let s=0;for(let n=0;n<e.length;n++)s=e.charCodeAt(n)+((s<<5)-s);const r=s%360;return Dt(r,t)}function Dt(e,t=1){const s=e===-1?0:vt.value?50:100,r=vt.value?60:20;return`hsla(${e}, ${s}%, ${r}%, ${t})`}const Qi=["textContent"],Zi=X({__name:"Badge",props:{text:{},color:{type:[Boolean,Number],default:!0},as:{},size:{}},setup(e){const t=e,s=$(()=>!t.text||t.color===!1?{}:{color:typeof t.color=="number"?Dt(t.color):Ns(t.text),background:typeof t.color=="number"?Dt(t.color,.1):Ns(t.text,.1)}),r=$(()=>{switch(t.size||"sm"){case"sm":return"px-1.5 text-11px leading-1.6em"}return""});return(n,o)=>(h(),R(Be(n.as||"span"),{"ws-nowrap":"",rounded:"",class:Q(r.value),style:ge(s.value)},{default:N(()=>[ze(n.$slots,"default",{},()=>[w("span",{textContent:me(t.text)},null,8,Qi)])]),_:3},8,["class","style"]))}}),Ji={flex:"~ gap-1 items-center",rounded:"","bg-gray:4":"",p1:"","m--1":""},qi=X({__name:"SegmentControl",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e){return(t,s)=>(h(),b("div",Ji,[(h(!0),b(U,null,pt(t.options,r=>(h(),R(Zi,{key:r.value,class:Q(["px-2 py-1 text-xs font-mono",r.value===t.modelValue?"":"op50"]),color:r.value===t.modelValue,"aria-pressed":r.value===t.modelValue,size:"none",text:r.label,as:"button",onClick:n=>t.$emit("update:modelValue",r.value)},null,8,["class","color","aria-pressed","text","onClick"]))),128))]))}}),ea={"text-sm":"","select-none":"",flex:"~ col gap-1","min-w-30":"",px4:""},ta=X({__name:"Settings",setup(e){const{isPresenter:t}=ce(),{isSupported:s}=Vs();return(r,n)=>(h(),b("div",ea,[P(Ae,{title:"Invert",dot:l(A).invert!==l(Z).invert,onReset:n[1]||(n[1]=o=>l(A).invert=l(Z).invert)},{default:N(()=>[P(Gt,{modelValue:l(A).invert,"onUpdate:modelValue":n[0]||(n[0]=o=>l(A).invert=o)},null,8,["modelValue"])]),_:1},8,["dot"]),P(Ae,{title:"Brightness",dot:l(A).brightness!==l(Z).brightness,onReset:n[3]||(n[3]=o=>l(A).brightness=l(Z).brightness)},{default:N(()=>[P(ut,{modelValue:l(A).brightness,"onUpdate:modelValue":n[2]||(n[2]=o=>l(A).brightness=o),max:1.5,min:.5,step:.02,default:l(Z).brightness},null,8,["modelValue","default"])]),_:1},8,["dot"]),P(Ae,{title:"Contrast",dot:l(A).contrast!==l(Z).contrast,onReset:n[5]||(n[5]=o=>l(A).contrast=l(Z).contrast)},{default:N(()=>[P(ut,{modelValue:l(A).contrast,"onUpdate:modelValue":n[4]||(n[4]=o=>l(A).contrast=o),max:1.5,min:.5,step:.02,default:l(Z).contrast},null,8,["modelValue","default"])]),_:1},8,["dot"]),P(Ae,{title:"Saturation",dot:l(A).saturate!==l(Z).saturate,onReset:n[7]||(n[7]=o=>l(A).saturate=l(Z).saturate)},{default:N(()=>[P(ut,{modelValue:l(A).saturate,"onUpdate:modelValue":n[6]||(n[6]=o=>l(A).saturate=o),max:1.5,min:.5,step:.02,default:l(Z).saturate},null,8,["modelValue","default"])]),_:1},8,["dot"]),P(Ae,{title:"Sepia",dot:l(A).sepia!==l(Z).sepia,onReset:n[9]||(n[9]=o=>l(A).sepia=l(Z).sepia)},{default:N(()=>[P(ut,{modelValue:l(A).sepia,"onUpdate:modelValue":n[8]||(n[8]=o=>l(A).sepia=o),max:2,min:-2,step:.02,default:l(Z).sepia},null,8,["modelValue","default"])]),_:1},8,["dot"]),P(Ae,{title:"Hue Rotate",dot:l(A).hueRotate!==l(Z).hueRotate,onReset:n[11]||(n[11]=o=>l(A).hueRotate=l(Z).hueRotate)},{default:N(()=>[P(ut,{modelValue:l(A).hueRotate,"onUpdate:modelValue":n[10]||(n[10]=o=>l(A).hueRotate=o),max:180,min:-180,step:.1,default:l(Z).hueRotate},null,8,["modelValue","default"])]),_:1},8,["dot"]),n[15]||(n[15]=w("div",{class:"h-1px opacity-5 bg-current w-full my2"},null,-1)),l(t)?S("v-if",!0):(h(),R(Ae,{key:0,title:"Slide Scale"},{default:N(()=>[P(qi,{modelValue:l(dt),"onUpdate:modelValue":n[12]||(n[12]=o=>Je(dt)?dt.value=o:null),options:[{label:"Fit",value:0},{label:"1:1",value:1}]},null,8,["modelValue"])]),_:1})),l(s)?(h(),R(Ae,{key:1,title:"Wake Lock"},{default:N(()=>[P(Gt,{modelValue:l(Mt),"onUpdate:modelValue":n[13]||(n[13]=o=>Je(Mt)?Mt.value=o:null)},null,8,["modelValue"])]),_:1})):S("v-if",!0),l(t)?S("v-if",!0):(h(),R(Ae,{key:2,title:"Hide Idle Cursor"},{default:N(()=>[P(Gt,{modelValue:l(St),"onUpdate:modelValue":n[14]||(n[14]=o=>Je(St)?St.value=o:null)},null,8,["modelValue"])]),_:1}))]))}}),sa={},na={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function ra(e,t){return h(),b("div",na)}const wt=mt(sa,[["render",ra]]),oa={key:0,class:"i-carbon:minimize"},ia={key:1,class:"i-carbon:maximize"},aa={key:0,"w-2":"","h-2":"","bg-primary":"","rounded-full":"",absolute:"","top-0.5":"","right-0.5":""},la={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},ua={class:"my-auto"},ca={class:"opacity-50"},da=X({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,{currentSlideNo:s,hasNext:r,hasPrev:n,isEmbedded:o,isPresenter:i,isPresenterAvailable:a,next:u,prev:c,total:d,enterPresenter:f,exitPresenter:v}=ce();st();const g=Xt.smaller("md"),{isFullscreen:x,toggle:p}=us,m=z();function _(){m.value&&ct.value&&m.value.contains(ct.value)&&ct.value.blur()}const D=$(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow-xl border border-main"),k=We();return(T,y)=>{const B=er,V=tr,G=Xs,O=sr;return h(),b("nav",{ref_key:"root",ref:m,class:"flex flex-col"},[w("div",{class:Q(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:p-2",D.value]),onMouseleave:_},[l(o)?S("v-if",!0):(h(),R(be,{key:0,title:l(x)?"Close fullscreen":"Enter fullscreen",onClick:l(p)},{default:N(()=>[l(x)?(h(),b("div",oa)):(h(),b("div",ia))]),_:1},8,["title","onClick"])),P(be,{class:Q({disabled:!l(n)}),title:"Go to previous slide",onClick:l(c)},{default:N(()=>y[6]||(y[6]=[w("div",{class:"i-carbon:arrow-left"},null,-1)])),_:1},8,["class","onClick"]),P(be,{class:Q({disabled:!l(r)}),title:"Go to next slide",onClick:l(u)},{default:N(()=>y[7]||(y[7]=[w("div",{class:"i-carbon:arrow-right"},null,-1)])),_:1},8,["class","onClick"]),l(o)?S("v-if",!0):(h(),R(be,{key:1,title:"Show slide overview",onClick:y[0]||(y[0]=F=>l(It)())},{default:N(()=>y[8]||(y[8]=[w("div",{class:"i-carbon:apps"},null,-1)])),_:1})),l(Hn)?S("v-if",!0):(h(),R(be,{key:2,title:l(vt)?"Switch to light mode theme":"Switch to dark mode theme",onClick:y[1]||(y[1]=F=>l(Qt)())},{default:N(()=>[l(vt)?(h(),R(B,{key:0})):(h(),R(V,{key:1}))]),_:1},8,["title"])),P(wt),l(o)?S("v-if",!0):(h(),b(U,{key:3},[!l(i)&&!l(g)&&k.value?(h(),b(U,{key:0},[P(l(k)),P(wt)],64)):S("v-if",!0),l(i)?(h(),R(be,{key:1,title:l(_t)?"Hide presenter cursor":"Show presenter cursor",onClick:y[2]||(y[2]=F=>_t.value=!l(_t))},{default:N(()=>[l(_t)?(h(),R(G,{key:0})):(h(),R(O,{key:1}))]),_:1},8,["title"])):S("v-if",!0)],64)),S("v-if",!0),l(o)?S("v-if",!0):(h(),b(U,{key:5},[l(i)?(h(),R(be,{key:0,title:"Play Mode",onClick:l(v)},{default:N(()=>y[10]||(y[10]=[w("div",{class:"i-carbon:presentation-file"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),S("v-if",!0)],64)),(h(),b(U,{key:6},[l(ye).download?(h(),R(be,{key:0,title:"Download as PDF",onClick:l(Ys)},{default:N(()=>y[13]||(y[13]=[w("div",{class:"i-carbon:download"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0)],64)),S("v-if",!0),!l(i)&&l(ye).info&&!l(o)?(h(),R(be,{key:8,title:"Show info",onClick:y[5]||(y[5]=F=>ht.value=!l(ht))},{default:N(()=>y[15]||(y[15]=[w("div",{class:"i-carbon:information"},null,-1)])),_:1})):S("v-if",!0),l(o)?S("v-if",!0):(h(),b(U,{key:9},[P(wt),l(i)?(h(),R(be,{key:0,title:"Toggle Presenter Layout",class:"aspect-ratio-initial flex items-center",onClick:l(Gn)},{default:N(()=>[y[16]||(y[16]=w("div",{class:"i-carbon:template"},null,-1)),Xe(" "+me(l(Un)),1)]),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),P(zi,null,{button:N(()=>[P(be,{title:"More Options"},{default:N(()=>[y[17]||(y[17]=w("div",{class:"i-carbon:settings-adjust"},null,-1)),l(Wn)?(h(),b("div",aa)):S("v-if",!0)]),_:1})]),menu:N(()=>[P(ta)]),_:1})],64)),l(o)?S("v-if",!0):(h(),R(wt,{key:10})),w("div",la,[w("div",ua,[Xe(me(l(s))+" ",1),w("span",ca,"/ "+me(l(d)),1)])]),P(l(Oi))],34)],512)}}}),ha={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},fa=X({__name:"PresenterMouse",setup(e){return(t,s)=>{const r=Xs;return l(Bt).cursor?(h(),b("div",ha,[P(r,{class:"absolute stroke-white dark:stroke-black",style:ge({left:`${l(Bt).cursor.x}%`,top:`${l(Bt).cursor.y}%`,strokeWidth:16})},null,8,["style"])])):S("v-if",!0)}}});function va(){const e=$n(),t=z(!1);let s,r;const n=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((o,i)=>{var p,m,_,D;const a=(p=Ct(i.params.no))==null?void 0:p.meta,u=(m=Ct(o.params.no))==null?void 0:m.meta,c=(_=a==null?void 0:a.slide)==null?void 0:_.no,d=(D=u==null?void 0:u.slide)==null?void 0:D.no;if((c!=null&&d!=null&&c!==d&&((c<d?a==null?void 0:a.transition:u==null?void 0:u.transition)??ye.transition))!=="view-transition"){t.value=!1;return}if(!n){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const v=new Promise((k,T)=>{s=k,r=T});let g;const x=new Promise(k=>g=k);return setTimeout(()=>{document.startViewTransition(()=>(g(),v))},50),x}),n&&e.afterEach(()=>{s==null||s(),r==null||r()}),t}const pa=["data-drag-id"],Se=10,Ve=10,Wt="absolute border border-gray bg-gray dark:border-gray-500 dark:bg-gray-800 bg-opacity-30 ",kt=20,ma=X({__name:"DragControl",props:{data:{}},setup(e){const{dragId:t,zoom:s,autoHeight:r,x0:n,y0:o,width:i,height:a,rotate:u,isArrow:c}=e.data,d=En(Us,z(1)),f=$(()=>d.value*s.value),{left:v,top:g}=Yn(),x=c?Number.NEGATIVE_INFINITY:40,p=$(()=>u.value*Math.PI/180),m=$(()=>Math.sin(p.value)),_=$(()=>Math.cos(p.value)),D=$(()=>i.value*_.value+a.value*m.value),k=$(()=>i.value*m.value+a.value*_.value),T=$(()=>n.value-D.value/2),y=$(()=>o.value-k.value/2),B=$(()=>n.value+D.value/2),V=$(()=>o.value+k.value/2),G=$(()=>c&&i.value<0),O=$(()=>c&&a.value<0);let F=null;function ne(M){if(M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const H=M.target.getBoundingClientRect(),C=i.value*_.value-a.value*m.value,L=i.value*m.value+a.value*_.value,se=i.value*_.value+a.value*m.value,oe=-i.value*m.value+a.value*_.value;F={x0:n.value,y0:o.value,width:i.value,height:a.value,rotate:u.value,dx0:M.clientX-(H.left+H.right)/2,dy0:M.clientY-(H.top+H.bottom)/2,ltx:n.value-C/2,lty:o.value-L/2,rtx:n.value+se/2,rty:o.value-oe/2,lbx:n.value-se/2,lby:o.value+oe/2,rbx:n.value+C/2,rby:o.value+L/2},M.currentTarget.setPointerCapture(M.pointerId)}function xe(M){if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const Y=(M.clientX-v.value-F.dx0)/f.value,H=(M.clientY-g.value-F.dy0)/f.value;n.value=ms(Y,-D.value/2+Ve,Rt.value+D.value/2-Ve),o.value=ms(H,-k.value/2+Ve,Lt.value+k.value/2-Ve)}function ae(M){F&&(M.preventDefault(),M.stopPropagation(),F=null)}function K(M,Y){return{onPointerdown:ne,onPointermove:H=>{if(!F||H.buttons!==1)return;H.preventDefault(),H.stopPropagation();let C=(H.clientX-v.value)/f.value,L=(H.clientY-g.value)/f.value;const{ltx:se,lty:oe,rtx:_e,rty:ee,lbx:he,lby:le,rbx:Re,rby:te}=F,ie=F.width/F.height,hn=Math.max(x,x*ie);function gt(Ee,Pe){if(H.shiftKey){const ue=Math.max(Ee,Pe*ie,hn),fe=ue/ie;return{w:ue,h:fe}}else return{w:Math.max(Ee,x),h:Math.max(Pe,x)}}if(M)if(Y){const Ee=(Re-C)*_.value+(te-L)*m.value,Pe=-(Re-C)*m.value+(te-L)*_.value,{w:ue,h:fe}=gt(Ee,Pe);C=Re-ue*_.value+fe*m.value,L=te-ue*m.value-fe*_.value}else{const Ee=(_e-C)*_.value-(L-ee)*m.value,Pe=(_e-C)*m.value+(L-ee)*_.value,{w:ue,h:fe}=gt(Ee,Pe);C=_e-ue*_.value-fe*m.value,L=ee-ue*m.value+fe*_.value}else if(Y){const Ee=(C-he)*_.value-(le-L)*m.value,Pe=(C-he)*m.value+(le-L)*_.value,{w:ue,h:fe}=gt(Ee,Pe);C=he+ue*_.value+fe*m.value,L=le+ue*m.value-fe*_.value}else{const Ee=(C-se)*_.value+(L-oe)*m.value,Pe=-(C-se)*m.value+(L-oe)*_.value,{w:ue,h:fe}=gt(Ee,Pe);C=se+ue*_.value-fe*m.value,L=oe+ue*m.value+fe*_.value}M?Y?(n.value=(C+Re)/2,o.value=(L+te)/2,i.value=(Re-C)*_.value+(te-L)*m.value,a.value=-(Re-C)*m.value+(te-L)*_.value):(n.value=(C+_e)/2,o.value=(L+ee)/2,i.value=(_e-C)*_.value-(L-ee)*m.value,a.value=(_e-C)*m.value+(L-ee)*_.value):Y?(n.value=(C+he)/2,o.value=(L+le)/2,i.value=(C-he)*_.value-(le-L)*m.value,a.value=(C-he)*m.value+(le-L)*_.value):(n.value=(C+se)/2,o.value=(L+oe)/2,i.value=(C-se)*_.value+(L-oe)*m.value,a.value=-(C-se)*m.value+(L-oe)*_.value)},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:M!==G.value?"0":void 0,right:M!==G.value?void 0:"0",top:Y!==O.value?"0":void 0,bottom:Y!==O.value?void 0:"0",cursor:c?"move":+M+ +Y==1?"nesw-resize":"nwse-resize",borderRadius:c?"50%":void 0},class:Wt}}function de(M){return{onPointerdown:ne,onPointermove:Y=>{if(!F||Y.buttons!==1)return;Y.preventDefault(),Y.stopPropagation();const H=(Y.clientX-v.value)/f.value,C=(Y.clientY-g.value)/f.value,{ltx:L,lty:se,rtx:oe,rty:_e,lbx:ee,lby:he,rbx:le,rby:Re}=F;if(M==="l"){const te=(oe+le)/2,ie=(_e+Re)/2;i.value=Math.max((te-H)*_.value+(ie-C)*m.value,x),n.value=te-i.value*_.value/2,o.value=ie-i.value*m.value/2}else if(M==="r"){const te=(L+ee)/2,ie=(se+he)/2;i.value=Math.max((H-te)*_.value+(C-ie)*m.value,x),n.value=te+i.value*_.value/2,o.value=ie+i.value*m.value/2}else if(M==="t"){const te=(ee+le)/2,ie=(he+Re)/2;a.value=Math.max((ie-C)*_.value-(te-H)*m.value,x),n.value=te+a.value*m.value/2,o.value=ie-a.value*_.value/2}else if(M==="b"){const te=(L+oe)/2,ie=(se+_e)/2;a.value=Math.max((C-ie)*_.value-(H-te)*m.value,x),n.value=te-a.value*m.value/2,o.value=ie+a.value*_.value/2}},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:M==="l"?"0":M==="r"?"100%":"50%",top:M==="t"?"0":M==="b"?"100%":"50%",cursor:"lr".includes(M)?"ew-resize":"ns-resize",borderRadius:"50%"},class:Wt}}function Ie(){return{onPointerdown:ne,onPointermove:M=>{if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const Y=(M.clientX-v.value-F.dx0)/f.value-Se/4,H=(M.clientY-g.value-F.dy0)/f.value-Se/4;let C=Math.atan2(H-o.value,Y-n.value)*180/Math.PI+90;const L=[0,90,180,270,360];for(const se of L)if(Math.abs(C-se)<5){C=se%360;break}u.value=C},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:"50%",top:"-20px",cursor:"grab",borderRadius:"50%"},class:Wt}}const I={immediate:!1,immediateCallback:!1},q=xt(()=>{B.value<=Ve||n.value--},kt,I),j=xt(()=>{T.value>=Rt.value-Ve||n.value++},kt,I),W=xt(()=>{V.value<=Ve||o.value--},kt,I),rt=xt(()=>{y.value>=Lt.value-Ve||o.value++},kt,I);return Pt(()=>{function M(Y,H){cs[Y].value?H.resume():H.pause()}M("left",q),M("right",j),M("up",W),M("down",rt)}),(M,Y)=>Number.isFinite(l(n))?(h(),b("div",{key:0,id:"drag-control-container","data-drag-id":l(t),style:ge({position:"absolute",zIndex:100,left:`${l(s)*(l(n)-Math.abs(l(i))/2)}px`,top:`${l(s)*(l(o)-Math.abs(l(a))/2)}px`,width:`${l(s)*Math.abs(l(i))}px`,height:`${l(s)*Math.abs(l(a))}px`,transformOrigin:"center center",transform:`rotate(${l(u)}deg)`}),onPointerdown:ne,onPointermove:xe,onPointerup:ae},[w("div",{class:Q(["absolute inset-0 z-nav dark:b-gray-400",l(c)?"":"b b-dark"])},[l(r)?S("v-if",!0):(h(),b(U,{key:0},[w("div",Le(Ne(K(!0,!0))),null,16),w("div",Le(Ne(K(!1,!1))),null,16),l(c)?S("v-if",!0):(h(),b(U,{key:0},[w("div",Le(Ne(K(!0,!1))),null,16),w("div",Le(Ne(K(!1,!0))),null,16)],64))],64)),l(c)?S("v-if",!0):(h(),b(U,{key:1},[w("div",Le(Ne(de("l"))),null,16),w("div",Le(Ne(de("r"))),null,16),l(r)?S("v-if",!0):(h(),b(U,{key:0},[w("div",Le(Ne(de("t"))),null,16),w("div",Le(Ne(de("b"))),null,16)],64)),w("div",Le(Ne(Ie())),null,16),w("div",{class:"absolute -top-15px w-0 b b-dashed b-dark dark:b-gray-400",style:ge({left:"calc(50% - 1px)",height:l(r)?"14px":"10px"})},null,4)],64))],2)],44,pa)):S("v-if",!0)}}),ga=X({__name:"SlidesShow",props:{renderContext:{}},setup(e){const{currentSlideRoute:t,currentTransition:s,getPrimaryClicks:r,prevRoute:n,nextRoute:o,slides:i,isPrintMode:a,isPrintWithClicks:u,clicksDirection:c,printRange:d}=ce();function f(p){p.meta.preload!==!1&&(p.meta.__preloaded=!0,p.load())}Pt(()=>{f(t.value),f(n.value),f(o.value)}),Pt(p=>{const m=i.value,_=setTimeout(()=>{m.forEach(f)},3e3);p(()=>clearTimeout(_))});const v=va();We();const g=$(()=>a.value?d.value.map(p=>i.value[p-1]):i.value.filter(p=>{var m;return((m=p.meta)==null?void 0:m.__preloaded)||p===t.value}));function x(){zt.value=!0,rr()}return(p,m)=>(h(),b(U,null,[S(" Global Bottom "),P(l(Ei)),S(" Slides "),(h(),R(Be(l(v)&&!l(a)&&!l(zt)&&!l(gs)?"div":Pn),Yt(l(zt)||l(gs)||l(a)?{}:l(s),{id:"slideshow",tag:"div",class:{"slidev-nav-go-forward":l(c)>0,"slidev-nav-go-backward":l(c)<0},onAfterLeave:x}),{default:N(()=>[(h(!0),b(U,null,pt(g.value,_=>(h(),b(U,{key:_.no},[Math.abs(_.no-l(t).no)<=20?ft((h(),R(dn,{key:0,"clicks-context":l(a)&&!l(u)?l(Gs)(_,l(Ws)):l(r)(_),route:_,"render-context":p.renderContext},null,8,["clicks-context","route","render-context"])),[[zs,_===l(t)]]):S("v-if",!0)],64))),128))]),_:1},16,["class"])),l(Zt)?(h(),R(ma,{key:0,data:l(Zt)},null,8,["data"])):S("v-if",!0),S(" Global Top "),P(l($i)),S("v-if",!0)],64))}}),ya=mt(ga,[["__scopeId","data-v-677b8c0d"]]),xa=[];function _a(){const{go:e,goFirst:t,goLast:s,next:r,nextSlide:n,prev:o,prevSlide:i}=ce(),{drawingEnabled:a}=st(),{escape:u,space:c,shift:d,left:f,right:v,up:g,down:x,enter:p,d:m,g:_,o:D,"`":k}=cs,T={next:r,prev:o,nextSlide:n,prevSlide:i,go:e,goFirst:t,goLast:s,downloadPDF:Ys,toggleDark:Qt,toggleOverview:It,toggleDrawing:()=>a.value=!a.value,escapeOverview:()=>ve.value=!1,showGotoDialog:()=>Oe.value=!Oe.value},y=J(we(ve),we(Zt));let B=[{name:"next_space",key:J(c,we(d)),fn:r,autoRepeat:!0},{name:"prev_space",key:J(c,d),fn:o,autoRepeat:!0},{name:"next_right",key:J(v,we(d),y),fn:r,autoRepeat:!0},{name:"prev_left",key:J(f,we(d),y),fn:o,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:r,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:o,autoRepeat:!0},{name:"next_down",key:J(x,y),fn:n,autoRepeat:!0},{name:"prev_up",key:J(g,y),fn:i,autoRepeat:!0},{name:"next_shift",key:J(v,d),fn:n,autoRepeat:!0},{name:"prev_shift",key:J(f,d),fn:i,autoRepeat:!0},{name:"toggle_dark",key:J(m,we(a)),fn:Qt},{name:"toggle_overview",key:J(Cn(D,k),we(a)),fn:It},{name:"hide_overview",key:J(u,we(a)),fn:()=>ve.value=!1},{name:"goto",key:J(_,we(a)),fn:()=>Oe.value=!Oe.value},{name:"next_overview",key:J(v,ve),fn:ci},{name:"prev_overview",key:J(f,ve),fn:ui},{name:"up_overview",key:J(g,ve),fn:di},{name:"down_overview",key:J(x,ve),fn:hi},{name:"goto_from_overview",key:J(p,ve),fn:()=>{e(re.value),ve.value=!1}}];const V=new Set(B.map(O=>O.name));for(const O of xa)B=O(T,B);if(B.filter(O=>O.name&&V.has(O.name)).length===0){const O=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(O),console.warn(O)}return B}function ba(){const{isPrintMode:e}=ce(),t=J(we(Hs),we(Qn),we(e),Xn),s=_a();new Map(s.map(i=>[i.key,i])).forEach(i=>{i.fn&&n(i.key,i.fn,i.autoRepeat)}),o("f",()=>us.toggle());function n(i,a,u=!1){typeof i=="string"&&(i=cs[i]);const c=J(i,t);let d=0,f;const v=()=>{if(clearTimeout(f),!c.value){d=0;return}u&&(f=setTimeout(v,Math.max(1e3-d*250,150)),d++),a()};return Ye(c,v,{flush:"sync"})}function o(i,a){return In(i,u=>{t.value&&(u.repeat||a())})}}const Ea=X({__name:"play",setup(e){const{next:t,prev:s,isPrintMode:r,isPresenter:n}=ce(),{isDrawing:o}=st(),i=z();function a(f){var v;qe.value||f.button===0&&((v=f.target)==null?void 0:v.id)==="slide-container"&&(f.pageX/window.innerWidth>.5?t():s())}Fr(i),ba(),Or(),Vr($(()=>!n.value&&!r.value));const u=$(()=>Zn.value||qe.value),c=We(),d=$(()=>{let f="";return A.value.brightness!==Z.brightness&&(f+=`brightness(${A.value.brightness}) `),A.value.contrast!==Z.contrast&&(f+=`contrast(${A.value.contrast}) `),A.value.sepia!==Z.sepia&&(f+=`sepia(${A.value.sepia}) `),A.value.hueRotate!==Z.hueRotate&&(f+=`hue-rotate(${A.value.hueRotate}deg) `),A.value.invert&&(f+="invert(1) "),{filter:f}});return(f,v)=>(h(),b(U,null,[w("div",{id:"page-root",ref_key:"root",ref:i,class:Q(["grid",l(Jn)?"grid-rows-[1fr_max-content]":"grid-cols-[1fr_max-content]"])},[P(cn,{style:{background:"var(--slidev-slide-container-background, black)"},"is-main":"","content-style":d.value,onPointerdown:a,onContextmenu:l(Kr)},{default:N(()=>[P(ya,{"render-context":"slide"}),P(fa)]),controls:N(()=>[l(r)?S("v-if",!0):(h(),b("div",{key:0,class:Q(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100 focus-within:opacity-100 focus-visible:opacity-100",[u.value?"!opacity-100 right-0":"opacity-0 p-2",l(o)?"pointer-events-none":""]])},[P(da,{persist:u.value},null,8,["persist"])],2))]),_:1},8,["content-style","onContextmenu"]),c.value&&l(qe)?(h(),R(l(c),{key:0,resize:!0})):S("v-if",!0)],2),l(r)?S("v-if",!0):(h(),R(Fi,{key:0})),v[0]||(v[0]=w("div",{id:"twoslash-container"},null,-1))],64))}});export{Ea as default};
