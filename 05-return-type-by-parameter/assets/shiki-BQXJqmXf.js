import{Z as Q,Y as F}from"./monaco/bundled-types-BtpE3bQK.js";import{a as V}from"./modules/file-saver-C8QSpN-3.js";import{b as ee,a as te,c as ne,d as re,e as se}from"./modules/shiki-CMQyBkKf.js";import"./modules/vue-J9dnOSYM.js";function ie(l){return l}const oe=ie,ae=oe(()=>({themes:{dark:"night-owl"}})),le=[Object.values([])[0],Object.values([ae])[0]].filter(Boolean);var P={exports:{}},W;function ge(){if(W)return P.exports;W=1;let l,e,d,{defineProperty:B,setPrototypeOf:O,create:w,keys:k}=Object,c="",{round:u,max:m}=Math,C=s=>{let n=/([a-f\d]{3,6})/i.exec(s)?.[1],i=n?.length,a=parseInt(6^i?3^i?"0":n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return[a>>16&255,a>>8&255,255&a]},L=(s,n,i)=>s^n||n^i?16+36*u(s/51)+6*u(n/51)+u(i/51):8>s?16:s>248?231:u(24*(s-8)/247)+232,N=s=>{let n,i,a,g,t;return 8>s?30+s:16>s?s-8+90:(232>s?(t=(s-=16)%36,n=(s/36|0)/5,i=(t/6|0)/5,a=t%6/5):n=i=a=(10*(s-232)+8)/255,g=2*m(n,i,a),g?30+(u(a)<<2|u(i)<<1|u(n))+(2^g?0:60):30)},J=(()=>{let s=h=>a.some((f=>h.test(f))),n=globalThis,i=n.process??{},a=i.argv??[],g=i.env??{},t=-1;try{l=","+k(g).join(",")}catch{g={},t=0}let b="FORCE_COLOR",j={false:0,0:0,1:1,2:2,3:3}[g[b]]??-1,x=b in g&&j||s(/^--color=?(true|always)?$/);return x&&(t=j),~t||(t=((h,f,v)=>(e=h.TERM,{"24bit":3,truecolor:3,ansi256:2,ansi:1}[h.COLORTERM]||(h.CI?/,GITHUB/.test(l)?3:1:f&&e!=="dumb"?v?3:/-256/.test(e)?2:1:0)))(g,!!g.PM2_HOME||g.NEXT_RUNTIME?.includes("edge")||!!i.stdout?.isTTY,i.platform==="win32")),!j||g.NO_COLOR||s(/^--(no-color|color=(false|never))$/)?0:n.window?.chrome||x&&!t?3:t})(),Y={open:c,close:c},E=39,S=49,q={},U=({p:s},{open:n,close:i})=>{let a=(b,...j)=>{if(!b){if(n&&n===i)return n;if((b??c)===c)return c}let x,h=b.raw?String.raw({raw:b},...j):c+b,f=a.p,v=f.o,I=f.c;if(h.includes("\x1B"))for(;f;f=f.p){let{open:_,close:M}=f,R=M.length,$=c,T=0;if(R)for(;~(x=h.indexOf(M,T));T=x+R)$+=h.slice(T,x)+_;h=$+h.slice(T)}return v+(h.includes(`
`)?h.replace(/(\r?\n)/g,I+"$1"+v):h)+I},g=n,t=i;return s&&(g=s.o+n,t=i+s.c),O(a,d),a.p={open:n,close:i,o:g,c:t,p:s},a.open=g,a.close=t,a};const A=new function s(n=J){let i={Ansis:s,level:n,isSupported:()=>g,strip:r=>r.replace(/[Â›][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,c),extend(r){for(let o in r){let p=r[o],y=(typeof p)[0];y==="s"?(a(o,f(...C(p))),a($(o),v(...C(p)))):a(o,p,y==="f")}return d=w({},q),O(i,d),i}},a=(r,o,p)=>{q[r]={get(){let y=p?(...H)=>U(this,o(...H)):U(this,o);return B(this,r,{value:y}),y}}},g=n>0,t=(r,o)=>g?{open:`\x1B[${r}m`,close:`\x1B[${o}m`}:Y,b=r=>o=>r(...C(o)),j=(r,o)=>(p,y,H)=>t(`${r}8;2;${p};${y};${H}`,o),x=(r,o)=>(p,y,H)=>t(((X,z,K)=>N(L(X,z,K)))(p,y,H)+r,o),h=r=>(o,p,y)=>r(L(o,p,y)),f=j(3,E),v=j(4,S),I=r=>t("38;5;"+r,E),_=r=>t("48;5;"+r,S);n===2?(f=h(I),v=h(_)):n===1&&(f=x(0,E),v=x(10,S),I=r=>t(N(r),E),_=r=>t(N(r)+10,S));let M,R={fg:I,bg:_,rgb:f,bgRgb:v,hex:b(f),bgHex:b(v),visible:Y,reset:t(0,0),bold:t(1,22),dim:t(2,22),italic:t(3,23),underline:t(4,24),inverse:t(7,27),hidden:t(8,28),strikethrough:t(9,29)},$=r=>"bg"+r[0].toUpperCase()+r.slice(1),T="Bright";return"black,red,green,yellow,blue,magenta,cyan,white,gray".split(",").map(((r,o)=>{M=$(r),8>o?(R[r+T]=t(90+o,E),R[M+T]=t(100+o,S)):o=60,R[r]=t(30+o,E),R[M]=t(40+o,S)})),i.extend(R)};return P.exports=A,A.default=A,P.exports}var ce=ge();const he=V(ce),{Ansis:ve,fg:Oe,bg:we,rgb:xe,bgRgb:Be,hex:ke,bgHex:je,reset:Re,inverse:Te,hidden:Ce,visible:Ee,bold:Se,dim:Ie,italic:Me,underline:_e,strikethrough:$e,black:He,red:G,green:Ne,yellow:Z,blue:Ae,magenta:Pe,cyan:Ge,white:Le,gray:Ye,redBright:qe,greenBright:Ue,yellowBright:Fe,blueBright:We,magentaBright:Ze,cyanBright:De,whiteBright:Je,bgBlack:Xe,bgRed:ze,bgGreen:Ke,bgYellow:Qe,bgBlue:Ve,bgMagenta:et,bgCyan:tt,bgWhite:nt,bgGray:rt,bgRedBright:st,bgGreenBright:it,bgYellowBright:ot,bgBlueBright:at,bgMagentaBright:lt,bgCyanBright:gt,bgWhiteBright:ct}=he,ue={loadTheme(){throw new Error("`loadTheme` is no longer supported.")}};function me(l){const e=Object.assign({},...l);"theme"in e&&"themes"in e&&delete e.theme,e.theme&&typeof e.theme!="string"&&!e.theme.name&&!e.theme.tokenColors&&(e.themes=e.theme,delete e.theme),!e.theme&&!e.themes&&(e.themes={dark:"vitesse-dark",light:"vitesse-light"}),e.themes&&(e.defaultColor=!1);const d=D(e.theme)||fe(e.themes||{}),B=typeof d=="string"?[d]:Object.values(d),O=Object.assign({},ee);if(typeof e.theme=="object"&&e.theme?.name&&(O[e.theme.name]=e.theme),e.themes)for(const c of Object.values(e.themes))typeof c=="object"&&c?.name&&(O[c.name]=c);const w=new Set(["markdown","vue","javascript","typescript","html","css"]),k=Object.assign({},te);for(const c of l){const u=c?.langs;if(u!=null)if(Array.isArray(u))for(const m of u.flat())if(typeof m=="function")console.error(G("[slidev] `langs` option returned by setup/shiki.ts cannot be an array containing functions. Please use the record format (`{ [name]: () => {...} }`) instead."));else if(typeof m=="string")w.add(m);else if(m.name){w.add(m.name),k[m.name]=m;for(const C of m.aliases||[])w.add(C),k[C]=m}else console.error(G("[slidev] Invalid lang option in shiki setup:"),m);else if(typeof u=="object"){for(const m of Object.keys(u))w.add(m);Object.assign(k,u)}else console.error(G("[slidev] Invalid langs option in shiki setup:"),u)}return{options:e,themeOption:d,themeNames:B,themeInput:O,languageNames:w,languageInput:k}}function D(l){if(l)return typeof l=="string"?l:(l.name||console.warn(Z("[slidev] Theme"),l,Z("does not have a name, which may cause issues.")),l.name)}function fe(l){return l?Q(l,(e,d)=>{const B=D(d);if(B)return[e,B]}):{}}const ht=F(async()=>{const{options:l,languageNames:e,languageInput:d,themeOption:B,themeNames:O,themeInput:w}=me(await Promise.all(le.map(m=>m(ue)))),k=re({engine:se,langs:d,themes:w}),c=ne(k),u=F(()=>c.getSingletonHighlighter({...l,langs:[...e],themes:O}));return{defaultHighlightOptions:l,getEagerHighlighter:u,shorthands:c,languageNames:e,themeNames:O,themeOption:B}});export{ht as default};
